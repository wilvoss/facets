<!DOCTYPE html>
<html itemtype="https://schema.org/VideoGame" lang="en">

  <head>
    <meta charset="utf-8" />
    <meta content="x-content-type-options=nosniff" />

    <title>Facets!</title>
    <meta name="apple-mobile-web-app-title" content="Facets!" />
    <meta name="mobile-web-app-capable" content="no" />
    <meta name="apple-touch-fullscreen" content="no" />
    <meta name="apple-mobile-web-app-capable" content="no" />
    <meta name="viewport"
      content="width=device-width, initial-scale=1, viewport-fit=cover, minimum-scale=1, maximum-scale=5, user-scalable=yes" />
    <meta name="theme-color" id="themeColor" content="hsl(215, 100%, 3%)" />

    <meta http-equiv="cache-control" content="no-cache, no-store, must-revalidate" />
    <meta http-equiv="pragma" content="no-cache" />
    <meta http-equiv="expires" content="0" />

    <meta name="keywords"
      content="online game, casual game, puzzle game, word game, word association, puzzle, social game" />
    <meta name="description" content="Facets: A Puzzle Game of Words and Wits!" />

    <link rel="manifest" href="manifest.webmanifest?2.2.60" />

    <link rel="apple-touch-icon" sizes="120x120" href="images/icon180.png" />
    <link rel="apple-touch-icon" sizes="180x180" href="images/icon180.png" />
    <link rel="apple-touch-icon" sizes="192x192" href="images/icon192.png" />
    <link rel="apple-touch-icon" sizes="512x512" href="images/icon512-apple-touch.png" />

    <link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png" />
    <link rel="icon" type="image/png" sizes="128x128" href="favicon.png" />

    <link rel="stylesheet" href="styles/normalize.css?2.2.60" media="screen" />
    <link rel="stylesheet" href="styles/main.css?2.2.60" media="screen" />
    <link rel="stylesheet" href="styles/checkbox.min.css?2.2.60" media="screen" />
  </head>

  <body>
    <app id="app" v-cloak
      :class="{ai: getIsAIGenerated, multicolor: userSettingsUseMultiColoredGems, solved: appStateIsGuessing &&  currentGameSolutionGuessing === currentGameSolutionActual, portrait: appStateUsePortraitLayout, wallpaper: tempUseWordSetThemes, dragging: appStateIsDragging, guessing: appStateIsGuessing, simple: userSettingsUsesSimplifiedTheme, reviewing: appDataPlayerCurrent.role === 'reviewer', creating: isPlayerCreating}"
      @pointerdown="HandleBodyPointerDown(event)"
      @pointerup="HandleBodyPointerUp(event, appStateIsDragging ? appDataDraggedCard : getSelectedCard)">
      <preload v-if="appStatePageHasLoaded">
        <img width="0px" height="0px" alt="preload image that can't be seen"
          :style="{backgroundImage: 'url(./images/tut-4' + (userSettingsUsesLightTheme ? '-light' : '') + '.svg)'}" />
        <img width="0px" height="0px" alt="preload image that can't be seen"
          :style="{backgroundImage: 'url(./images/tut-6' + (userSettingsUsesLightTheme ? '-light' : '') + '.svg)'}" />
        <img width="0px" height="0px" alt="preload image that can't be seen"
          :style="{backgroundImage: 'url(./images/tut-7' + (userSettingsUsesLightTheme ? '-light' : '') + '.svg)'}" />

        <img v-for="wordset in getEnabledWordSets" width="0px" height="0px" alt="preload image that can't be seen"
          :style="{backgroundImage: 'url('+ wordset.textureImage + ')'}" />
      </preload>
      <link rel="stylesheet"
        v-if="appStateUseFlower || (userSettingsUsesLightTheme && !appStateShowSettings) || (appStateShowSettings && tempUserSettingsUsesLightTheme)"
        href="styles/light.css?2.2.06" media="screen" />
      <link rel="stylesheet" v-if="appStateUseFlower || userSettingsUsesSimplifiedTheme" href="styles/simple.css?2.2.06"
        media="screen" />
      <link rel="stylesheet" v-if="appStateUseFlower" href="styles/flower.css?2.2.06" media="screen" />
      <link rel="stylesheet" v-if="appStateUsePortraitLayout && !userSettingsShowAllCards && !isPlayerCreating"
        href="styles/focus.css?2.2.06" media="screen" />
      <splash :class="{hide: appStatePageHasLoaded}">
        <!-- <icon class="logo giant"></icon> -->
        <!-- <h2>Facets</h2> -->
      </splash>
      <notification @click="appStateShowNotification = false" :class="{show: appStateShowNotification}">
        <message :title="getPlayerMessage">
          <div v-html="getPlayerMessage"></div>
          <small v-if="!userSettingsHideStats && getCurrentDaily && getCurrentDaily.solved" class="statlabel">
            {{getCurrentDaily === getTodaysDaily ? 'Today\'s' :  getCurrentDaily.date}} Daily
            - Global Stats
          </small>
          <stats title="Success rates for solving this puzzle"
            v-if="!userSettingsHideStats && getCurrentDaily && getCurrentDaily.solved">
            <stat>
              <value>
                {{!appStateIsGettingDailyGameStats && getCurrentDaily.stats && getCurrentDaily.stats.guesscounts.g1 ? getCurrentDaily.stats.guesscounts.g1 : '-'}}
              </value>
              <small>in 1 try</small>
            </stat>
            <stat>
              <value>
                {{!appStateIsGettingDailyGameStats && getCurrentDaily.stats && getCurrentDaily.stats.guesscounts.g2 ? getCurrentDaily.stats.guesscounts.g2 : '-'}}
              </value>
              <small>in 2 tries</small>
            </stat>
            <stat>
              <value>
                {{!appStateIsGettingDailyGameStats && getCurrentDaily.stats && getCurrentDaily.stats.guesscounts.beyond2 ? getCurrentDaily.stats.guesscounts.beyond2 : '-'}}
              </value>
              <small>in 3+ tries</small>
            </stat>
            <stat>
              <value>
                {{!appStateIsGettingDailyGameStats && getCurrentDaily.stats && getCurrentDaily.stats.avg ? getCurrentDaily.stats.avg : '-'}}
              </value>
              <small>tries avg</small>
            </stat>
            <stat>
              <value>
                {{!appStateIsGettingDailyGameStats && getCurrentDaily.stats && getCurrentDaily.stats.guesscounts.quits ? getCurrentDaily.stats.guesscounts.quits : '-'}}
              </value>
              <small>quit</small>
            </stat>
          </stats>
        </message>
      </notification>
      <notification :class="{show: appStateShowMeta}" class="meta">
        <header>
          <icon class="logo giant"></icon>
          <flogo class="giant"></flogo>
        </header>
        <p>Hi, {{appDataPlayerCurrent.name}}!</p>
        <icon
          :class="{show: appStateIsGettingLast10Games || appStateIsGettingDailyGames || appStateIsGettingDailyGameStats}"
          style="position: relative" class="spinner"></icon>
        <subtitle>
          <button v-if="currentGameSolutionGuessing !== currentGameSolutionActual" class="blink"
            @click="ToggleShowMeta(event)">Resume</button>
          <button v-if="vsShowDaily" class="small" @click="ToggleShowDailyGames(event)">
            The Daily Facet
            <badge :class="{show: getDailyIsFreshToday}">{{appDataNumberOfNewDailies}}</badge>
          </button>
          <button class="inline small" @click="HandleNewGameClick()">
            <icon class="empty"></icon>
            Create your own
            <icon class="empty"></icon>
          </button>
          <!-- <button class="small" @click="ToggleShowGlobalCreated(event)">Player puzzles</button> -->
          <button class="small" @click="ToggleShowTutorial(event)">How to play</button>
          <!-- <leftright> -->
          <button class="small" @click="ShowSettings(event)">Settings</button>
          <button class="small" style="position: absolute; bottom: 10px; right: 0px; width: auto; border: none"
            @click="ToggleShowInfo(event)">
            <icon class="meeples"></icon>
          </button>
          <!-- </leftright> -->
          <!-- <leftright> -->
          <button class="small highlightText" @click="window.open('https://www.buymeacoffee.com/wilvoss', '_blank')">
            <icon class="bmc small highlightBackground"></icon>
            Buy me a coffee!
          </button>
          <!-- </leftright> -->
        </subtitle>
      </notification>
      <pointer :class="{hidden: showPointer, inplay: pointerInPlay}"
        :style="{left: appStatePointerLocation.left + 'px', top: appStatePointerLocation.top + 'px'}">
        <p class="pointer-text" v-html="pointerText"></p>
        <p class="controls">
          <a v-if="isPlayerGuessing && appStateFirstRunGuessingIndex < appDataGuessingFirstRunItems.length - 1"
            @click="appStateFirstRunGuessingIndex = appDataGuessingFirstRunItems.length; appStateFirstRunCreatingIndex = appDataCreatorFirstRunItems.length">Stop
            showing tips</a>
          <a v-if="isPlayerCreating && appStateFirstRunCreatingIndex < appDataCreatorFirstRunItems.length - 1"
            @click="appStateFirstRunGuessingIndex = appDataGuessingFirstRunItems.length; appStateFirstRunCreatingIndex = appDataCreatorFirstRunItems.length">Stop
            showing tips</a>
          <a class="right"
            v-if="isPlayerCreating || (isPlayerGuessing && appStateFirstRunGuessingIndex !== 0)">{{tipSubmitText}}</a>
        </p>
      </pointer>
      <arrow
        :class="{hidden: showPointer, inplay: (appStateFirstRunGuessingIndex > 0 && appStateFirstRunGuessingIndex < appDataGuessingFirstRunItems.length && isPlayerGuessing) || (appStateFirstRunCreatingIndex > 0 && appStateFirstRunCreatingIndex < appDataCreatorFirstRunItems.length && isPlayerCreating)}"
        :style="{left: appStatePointerArrowLocation.x + 'px', top: appStatePointerArrowLocation.y + 'px', transform: 'translate(-10px, 2px) rotate(' +  appStatePointerArrowLocation.rotate + 'deg)'}">
      </arrow>
      <modal v-if="appStateShowTutorial" class="tutorial">
        <section>
          <h2>How to play</h2>
          <p v-if="!appStateShowCreateOOBE && isPlayerCreating">A Facets puzzle consists of 4
            different <span class="highlightText">clues</span> that connect 4 different
            <span class="highlightText">word-pairs</span>.
            You can create your own puzzles to send to friends, solve the
            Daily Facet, or guess puzzles your friends create!
          </p>
          <p v-if="!appStateShowCreateOOBE && !isPlayerCreating">A Facets puzzle consists of 4
            different <span class="highlightText">clues</span> that connect 4 different
            <span class="highlightText">word-pairs</span>.
            You can guess puzzles your friends create, solve the
            Daily Facet, or create your own puzzles to send to friends!
          </p>
          <hidden v-if="!isPlayerCreating">
            <h3>Guessing</h3>
            <p>Find the right word-pairs based on the clues given. Drag cards onto the gem and rotate them until you
              think
              you've solved the puzzle!</p>
            <img :src="'./images/tut-6' + (userSettingsUsesLightTheme ? '-light' : '') + '.svg'" />
            <p>Hit the <cta>{{appDataActionButtonTexts.guess}}</cta> or <cta>{{appDataActionButtonTexts.reply}}</cta>
              button to check your solution.</p>
          </hidden>

          <h3 v-if="!appStateShowCreateOOBE">Creating</h3>
          <p>When creating a new puzzle, it's your job to come up with clues that "connect" the four word-pairs that are
            displayed on the edges of the gem. (These characters are not allowed: ? : = and &)</p>
          <img :src="'./images/tut-7' + (userSettingsUsesLightTheme ? '-light' : '') + '.svg'" />
          <p>When you are satisfied with your 4 clues, hit the <cta>{{appDataActionButtonTexts.send}}</cta> button. The
            puzzle will scramble and you'll be able to share a message with your friend that contains a link to the
            scrambled puzzle.</p>
          <p>They're gonna have to recreate your puzzle based on your clues! 🧠</p>

          <h3>Reviewing</h3>
          <p>Your friends will send their guesses back to you for review. When reviewing, remove incorrectly placed
            cards from the gem.</p>
          <img :src="'./images/tut-4' + (userSettingsUsesLightTheme ? '-light' : '') + '.svg'" />
          <p>Click the <cta>{{appDataActionButtonTexts.respond}}</cta> button to send the puzzle back, even if you are
            just giving them the solution.</p>

          <hidden v-if="isPlayerCreating">
            <h3>Guessing</h3>
            <p>Find the right word-pairs based on the clues given. Drag cards onto the gem and rotate them until you
              think
              you've solved the puzzle!</p>
            <img :src="'./images/tut-6' + (userSettingsUsesLightTheme ? '-light' : '') + '.svg'" />
            <p>Hit the <cta>{{appDataActionButtonTexts.guess}}</cta> or <cta>{{appDataActionButtonTexts.reply}}</cta>
              button to check your solution.</p>
          </hidden>
        </section>
        <controls><button @click="ToggleShowTutorial(event)">Got it</button></controls>
      </modal>
      <modal v-if="appStateShowConfirmation" class="centered">
        <confirmation>
          <message v-html="appDataConfirmationObject.message"></message>
          <controls>
            <button class="secondary" @click="HandleYesNo(appDataConfirmationObject.target, false)">No</button>
            <button @click="HandleYesNo(appDataConfirmationObject.target, true)">Yes</button>
          </controls>
        </confirmation>
      </modal>
      <modal v-if="appStateShowIntro" class="centered">
        <section>
          <h2>
            Facets
            <small style="max-width: unset; font-size: 50%; padding-top: var(--defaultGap)"> A Puzzle Game of Words and
              Wits </small>
          </h2>
          <message>Welcome!</message>
          <small style="text-align: center; color: hsl(var(--appForegroundHSL))">What's your player
            name?</small>
          <input autocomplete="off" style="text-align: center" spellcheck="false" maxlength="14" id="nameInput"
            placeholder="_ _ _ _ _ _" v-model="tempName" />
          <checkbox v-if="isNotificationSupported && isSyncSupported && isPWAOnHomeScreen"
            :class="{on: tempUserWantsDailyReminder && Notification.permission === 'granted', disabled: !Notification.permission === 'granted'}"
            @click="ToggleTempUserWantsDailyReminder()">
            Allow notifications
            <toggle></toggle>
          </checkbox>

          <legal>By continuing to use this game, you agree to our <a href="https://bigtentgames.com/#privacy"
              target="_blank">Privacy Policy</a>, which explains how we collect and use player names and temporary IDs
            necessary for game functionality.</legal>
        </section>
        <controls><button @click="HandleIntroButtonClick(event)">Next</button></controls>
      </modal>
      <modal v-if="appStateShowInfo">
        <section>
          <h2>Credits</h2>

          <h3>Created by</h3>
          <credit>Wil Voss</credit>

          <h3>Dedication</h3>
          <credit>Made with ❤️ for Sonna and Melinda.</credit>

          <h3>Feedback & ideas</h3>
          <credit>Lex Barbieri</credit>
          <credit>Jaime Bortello</credit>
          <credit>Summer Bronson</credit>
          <credit>Melinda Cocolas</credit>
          <credit>Marianne Giesemann</credit>
          <credit>Perdis Hawkins</credit>
          <credit>Jerry Hoffmeister</credit>
          <credit>Chris Lehan</credit>
          <credit>Stacey Rea</credit>
          <credit>AJ Rogers</credit>
          <credit>Elaine Soennichsen</credit>
          <credit>Kathleen Voss</credit>
          <credit>Sonna Voss</credit>

          <h3>How can you help?</h3>
          <a class="padded" @click="ShareText('https://bigtentgames.com/facets', '')">Share with friends!</a>
          <a class="padded" href="https://discord.gg/sJ3vG3RHZd" target="_blank">Join our Discord!</a>
          <a class="padded" href="https://github.com/wilvoss/facets/issues" target="_blank">Submit a bug!</a>
          <h3></h3>
          <version>
            <span>&copy;{{new Date().getFullYear()}} Big Tent Games</span>
            <span><a href="https://bigtentgames.com/#privacy" target="_blank">Privacy Policy</a></span>
            <span>Version {{appDataVersion}}</span>
          </version>
        </section>
        <controls><button @click="appStateShowInfo = false">Okay</button></controls>
      </modal>
      <modal v-if="appStateShowCatChooser">
        <section>
          <h2>Puzzle Options</h2>
          <h3 style="padding-top: 0px">Category</h3>
          <categories>
            <category :class="{on: set.name === tempWordSetName }" @click="tempWordSetName = set.name"
              :class="{on: tempWordSetName === set.name}" v-for="set in getEnabledTempWordSet">{{set.name}}</category>
          </categories>
          <h3>Language</h3>
          <leftright>
            <p>Selected</p>
            <select v-model="tempUserSettingsLanguage">
              <option v-for="option in getEnabledTempLanguages" :key="option.tag" :value="option.tag">{{ option.name }}
              </option>
            </select>
          </leftright>
          <h3>Difficulty</h3>
          <checkbox title="Enable this to make your puzzle much harder to solve!" :class="{on: tempUseExtraCard}"
            @click="ToggleTempUseExtraCard()">
            Make it crazy hard
            <toggle></toggle>
          </checkbox>
          <small>Enable this to add an extra random guessing card that doesn't belong in the solution.</small>
        </section>
        <controls>
          <button class="secondary" @click="appStateShowCatChooser = false">Cancel</button>
          <button @click="HandleGoButtonClick(event)">Create</button>
        </controls>
      </modal>
      <modal v-if="appStateShowSettings">
        <section>
          <h2>Settings</h2>
          <h3>Profile</h3>
          <leftright>
            <p>Player name</p>
            <callout>
              <input autocomplete="off" spellcheck="false" maxlength="14" placeholder="_ _ _ _ _ _"
                onpointerup="this.select()" v-model="tempName" />
            </callout>
          </leftright>
          <leftright>
            <p>Player ID</p>
            <callout>
              <input spellcheck="false" onpointerup="this.select()" inputmode="numeric" type="number" pattern="\d*"
                v-model="tempID" oninput="if (this.value.length > 16) this.value = this.value.slice(0, 16);"
                maxlength="8" />
            </callout>
          </leftright>
          <small class="alertText" v-if="tempID.toString().length < 8 || tempID.toString().indexOf('0') === 0">Your ID
            must be 8 - 12 numbers long and not begin with 0.</small>
          <small>To avoid connection issues when sharing game stats across different devices, ensure this Player ID
            matches
            on all your browsers. Write this ID down before changing it.</small>
          <h3>Appearance</h3>
          <checkbox :class="{on: tempUserSettingsUsesLightTheme}" @click="ToggleTempUseLightTheme()">
            Light theme
            <toggle></toggle>
          </checkbox>
          <small>Enable this if you want a brighter, lighter visual experience.</small>
          <checkbox :class="{on: tempUseWordSetThemes}" @click="ToggleTempUseWordSetThemes()">
            Category backgrounds
            <toggle></toggle>
          </checkbox>
          <small>Enable this to display category related backgrounds.</small>

          <checkbox :class="{on: tempUserSettingsUsesSimplifiedTheme}" @click="ToggleTempUseSimplifiedTheme()">
            Simple visuals
            <toggle></toggle>
          </checkbox>
          <small>Enable this if you want remove the gem theme entirely. </small>
          <checkbox :class="{on: tempUserSettingsHideStats}" @click="ToggleTempHideStats()">
            Hide stats
            <toggle></toggle>
          </checkbox>
          <small>Enable this if you don't want to see statistics associated with the Daily Facet.</small>
          <checkbox
            :class="{disabled: tempUserSettingsUsesSimplifiedTheme, on: !tempUseMultiColoredGems && !tempUserSettingsUsesSimplifiedTheme}"
            @click="ToggleTempUseMultiColoredGems()">
            Monocolored gem
            <toggle></toggle>
          </checkbox>
          <small :class="{disabled: tempUserSettingsUsesSimplifiedTheme}">Enable this if you want the gem to remain
            green when you are creating, guessing, or reviewing.</small>
          <checkbox v-if="appStateUsePortraitLayout" :class="{on: tempUserSettingsShowAllCards}"
            @click="ToggleTempShowAllCards()">
            Shrink to fit
            <toggle></toggle>
          </checkbox>
          <small v-if="appStateUsePortraitLayout">Enable this if you want to shrink all cards to fit on the screen.
          </small>
          <!-- <checkbox v-if="isNotificationSupported && isSyncSupported && appStateUseNotifications"
            :class="{on: tempUserWantsDailyReminder, disabled: Notification.permission === 'denied'}"
            @click="ToggleTempUserWantsDailyReminder()">
            Notifications
            <toggle></toggle>
          </checkbox>
          <small v-if="isNotificationSupported && isSyncSupported && appStateUseNotifications"
            :class="{disabled: Notification.permission === 'denied'}"> Enable this to get Daily Reminder notifications
            (once a day at 8:00 am). </small>
          <instructions
            v-if="appStateUseNotifications && isNotificationSupported && isSyncSupported && !isPWAOnHomeScreen && Notification.permission === 'denied'">
            Notifications are currently disabled in your browser settings. To enable notifications for Facets, please
            follow these steps:
            <ul>
              <li>Open your browser's settings.</li>
              <li>Navigate to Privacy and Security > Site Settings > Notifications.</li>
              <li>Find Facets ({{location.hostname}}) in the list and change the setting to "Allow."</li>
            </ul>
            Once you have updated your browser settings, refresh close and reopen Facets, after which you can enable
            notifications here.
          </instructions>
          <instructions
            v-if="isNotificationSupported && isSyncSupported && isPWAOnHomeScreen && Notification.permission === 'denied'">
            Notifications for Facets may be disabled on your device:
            <ul>
              <li>Open your device settings.</li>
              <li>Navigate to Apps and Notifications > App info (or equivalent).</li>
              <li>Find Facets in the list, and make sure notifications are enabled.</li>
            </ul>
            Once you have updated your device settings, restart Facets, and then enable notifications here.
          </instructions> -->
          <leftright style="margin-top: calc(2 * var(--defaultGap))">
            <a class="padded" @click="ResetFirstRun">Reset
              tips</a>
          </leftright>
          <small>Tap this to restore the game guiding tips.</small>

          <leftright>
            <a class="padded" @click="window.location.reload()">Version {{appDataVersion}}</a>
          </leftright>
          <small>Tap this to be sure that you have the latest version.</small>
        </section>
        <controls>
          <button class="secondary" @click="CancelSettings(event)">Cancel</button>
          <button :disabled="tempID.toString().length < 8 || tempID.toString().indexOf('0') === 0"
            title="Please only use numbers."
            :class="{disabled: tempID.toString().length < 8 || tempID.toString().indexOf('0') === 0}"
            @click="SubmitSettings(event)">Save</button>
        </controls>
      </modal>
      <modal v-if="appStateShowGlobalCreated">
        <section>
          <h2>Player puzzles</h2>
          <p>Play recent puzzles created by anonymous players from around the world.</p>

          <leftright style="margin: 20px 0">
            <a class="padded" :class="{disabled: appStateIsGettingLast10Games}"
              @click="GetLast10GlobalCreatedGames();">Refresh</a>
            <a class="padded" @click="window.open('/game/stats.html', '_blank')">Global Stats</a>
          </leftright>

          <icon v-show="appStateIsGettingLast10Games" style="position: relative" class="spinner show"></icon>

          <message style="padding: calc(2 * var(--defaultGap)) 0"
            v-if="!appStateIsGettingLast10Games && getCreatedGamesWithWordSetNames.length === 0">
            <p>😢</p>
            <p>There are no player puzzles to display.</p>
            <button style="margin-top: 20px; border: 1px solid hsla(var(--linkColorDarkHSL), 0.75)"
              @click="ToggleShowGlobalCreated(); HandleNewGameClick()">Create One!</button>
          </message>

          <gamelinks>
            <gamelink v-for="game in getCreatedGamesWithWordSetNames" @click="HandleOldGameClick(event, game)">
              <p>
                <a href=""><small>{{game.name}}
                    {{game.useExtraCard === "true" ? '(5-cards)' : ''}}</small>{{game.hints.replace(/:/g," - ")}}</a>
                <button title="Report this puzzle for offensive language." @click="ReportPuzzle(event, game)"
                  class="inline report">
                  <icon class="alert"></icon>Report
                </button>
              </p>
            </gamelink>
          </gamelinks>

          <controls>
            <button @click="appStateShowGlobalCreated = false">Done</button>
          </controls>
        </section>
      </modal>
      <modal v-if="appStateShowDailyGames">
        <section>
          <h2>The Daily Facet</h2>
          <p>These AI generated puzzles can be quite hard. If you solve one, challenge your friends to do better!</p>
          <small v-if="!userSettingsHideStats" class="statlabel" style="margin-top: var(--defaultGap)"> You've solved
            {{appDataPlayerStats.total}}
            {{appDataPlayerStats.total === 1 ? 'Daily Facet' :  'Daily Facets' }} </small>
          <stats v-if="!userSettingsHideStats" style="padding-top: 0px;">
            <stat class="boxed">
              <value>
                {{!appStateIsGettingDailyGameStats && appDataPlayerStats && appDataPlayerStats.g1 ? appDataPlayerStats.g1 : '-'}}
              </value>
              <small>in 1 try</small>
            </stat>
            <stat class="boxed">
              <value>
                {{!appStateIsGettingDailyGameStats && appDataPlayerStats && appDataPlayerStats.g2 ? appDataPlayerStats.g2 : '-'}}
              </value>
              <small>in 2 tries</small>
            </stat>
            <stat class="boxed">
              <value>
                {{!appStateIsGettingDailyGameStats && appDataPlayerStats && appDataPlayerStats.beyond2 ? appDataPlayerStats.beyond2 : '-'}}
              </value>
              <small>in 3+ tries</small>
            </stat>
            <stat class="boxed">
              <value>
                {{!appStateIsGettingDailyGameStats && appDataPlayerStats && appDataPlayerStats.quit ? appDataPlayerStats.quit : '-'}}
              </value>
              <small>quit</small>
            </stat>
          </stats>

          <icon v-show="appStateIsGettingDailyGames " style="position: relative" class="spinner show"></icon>
          <message style="padding: calc(2 * var(--defaultGap)) 0"
            v-if="!appStateIsGettingDailyGames && getDailyGamesWithWordSetNames.length === 0">
            <p v-if="Navigator.online">There was an error. 😢</p>
            <p v-if="!Navigator.online">You appear to be offline. 😢</p>
            <button v-if="!Navigator.online" @click="GetDailyGames">Retry</button>
          </message>
          <gamelinks v-if="!appStateIsGettingDailyGames">
            <gamelink :class="{done: game.solved, quit: game.quit}"
              v-for="(game, index) in getDailyGamesWithWordSetNames">
              <p @click="HandleGameLinkClick(event, game)">
                <a>
                  <small>
                    <dot
                      v-if="index === 0 && getTodaysDaily !== getCurrentDaily && game.guesses === 0 && getDailyIsFreshToday || game.guesses === 0 && !HasUserStartedGame(game)">
                      •</dot>
                    <icon v-if="game.solved" class="eye tiny"></icon>
                    {{game === getTodaysDaily ? 'Today' : game.date}}
                  </small>
                  <clues> {{game.hints.replace(/:/g," - ")}} </clues>
                </a>
                <button v-if="game.guesses === 0" class="inline report">
                  PLAY
                  <icon class="play"></icon>
                </button>
                <button v-if="game.solved && game.guesses > 0 && !game.quit" class="inline report">
                  <icon class="check"></icon>
                  In {{game.guesses}}
                </button>
                <button v-if="game.solved && game.guesses > 0 && game.quit" class="inline report">
                  <icon class="quit alertbackground"></icon>
                  In {{game.guesses}}
                </button>
                <button v-if="!game.solved && game.guesses > 0" class="inline report"
                  :class="{alert: !game.solved && game.guesses > 0}">
                  {{game.guesses}} {{game.guesses === 1 ? "Try" : "Tries"}}
                  <icon class="continue"></icon>
                </button>
              </p>

              <!-- <small class="statlabel"> {{game === getTodaysDaily ? 'Today\'s' : game.date}} player counts </small> -->
              <stats v-if="!userSettingsHideStats" title="Success rates for solving this puzzle">
                <stat>
                  <value>
                    {{!appStateIsGettingDailyGameStats && game.stats && game.stats.guesscounts.g1 ? game.stats.guesscounts.g1 : '-'}}
                  </value>
                  <small>in 1 try</small>
                </stat>
                <stat>
                  <value>
                    {{!appStateIsGettingDailyGameStats && game.stats && game.stats.guesscounts.g2 ? game.stats.guesscounts.g2 : '-'}}
                  </value>
                  <small>in 2 tries</small>
                </stat>
                <stat>
                  <value>
                    {{!appStateIsGettingDailyGameStats && game.stats && game.stats.guesscounts.beyond2 ? game.stats.guesscounts.beyond2 : '-'}}
                  </value>
                  <small>in 3+ tries</small>
                </stat>
                <stat>
                  <value>{{!appStateIsGettingDailyGameStats && game.stats && game.stats.avg ? game.stats.avg : '-'}}
                  </value>
                  <small>tries avg</small>
                </stat>
                <stat>
                  <value>
                    {{!appStateIsGettingDailyGameStats && game.stats && game.stats.guesscounts.quits ? game.stats.guesscounts.quits : '-'}}
                  </value>
                  <small>quit</small>
                </stat>
              </stats>
            </gamelink>
          </gamelinks>

          <controls>
            <button @click="appStateShowDailyGames = false">Done</button>
          </controls>
        </section>
      </modal>
      <wrapper>
        <controls>
          <button class="small" id="menu" @pointerup="ToggleShowMeta(event)">
            Menu
            <badge :class="{show:getDailyIsFreshToday}">{{appDataNumberOfNewDailies}}</badge>
          </button>
        </controls>
        <header :disabled="appStateShowNotification" :class="{disabled: appStateSolving}">
          <span>
            {{getCurrentDaily && vsShowDaily ? getCurrentDaily.key === getTodaysKey ? 'Today\'s' : getCurrentDaily.date.split(',')[0] : ''}}
          </span>
          <flogo></flogo>
          <icon v-if="getCurrentDaily && !getCurrentDaily.solved" :class="getCorrectCalIconClass" class="large"
            @click="ToggleShowDailyGames(event)"></icon>
          <icon v-if="getCurrentDaily && getCurrentDaily.solved && !getCurrentDaily.quit" class="check large"
            @click="ToggleShowDailyGames(event)"></icon>
          <icon v-if="getCurrentDaily && getCurrentDaily.solved && getCurrentDaily.quit"
            style="background: hsl(var(--alertHSL))" class="quit large" @click="ToggleShowDailyGames(event)"></icon>
          <icon v-if="!getCurrentDaily" class="logo" @click="appStateShowNotification = true"></icon>
          <span>
            <count v-if="getCurrentDaily && getCurrentDaily.solved"> in {{getCurrentDaily.guesses}}
              {{getCurrentDaily.guesses !== 1 ? 'tries' : 'try'}}
            </count>
            <count v-if="getCurrentDaily && !getCurrentDaily.solved"> Daily </count>
          </span>
          <button @click="HandleOldGameClick(event, getTodaysDaily)" class="dailycta"
            :class="{show: !appStateShowNotification && vsShowDaily && getDailyIsFreshToday && appStateShowMeta, blink: appStateFirstRunGuessingIndex === -1}">Solve
            Today's Facet!</button>
        </header>
        <controls :class="{disabled: getActionButtonState, pointoutparent: (appStateFirstRunGuessingIndex === 4 &&
          isGuessingFirstRunShowing) || (appStateFirstRunCreatingIndex === 3 && isPlayerCreating)}">
          <button id="shareButton" class="inline" :class="{pointout: (appStateFirstRunGuessingIndex === 4 &&
            isPlayerGuessing) || (appStateFirstRunCreatingIndex === 3 && isPlayerCreating)}"
            @click="HandleSubmitButtonPress()">
            <icon :class="{show: appStateIsGettingTinyURL}" class="spinner"></icon>
            <span v-if="!appStateIsGettingTinyURL" v-html="getSubmitButtonText"></span>
          </button>
        </controls>
      </wrapper>
      <wrapper class="main" :class="{disabled: appStateSolving}">
        <rotators style="width: calc(3.25 * var(--cardSize))">
          <button aria-label="Rotate Tray Clockwise" class="clockwise" @click="RotateTray(1)">
            <icon class="rotate"></icon>
          </button>
          <button aria-label="Rotate Tray Anti-Clockwise" class="anticlockwise" @click="RotateTray(-1)">
            <icon :class="{pointout: appStateFirstRunGuessingIndex === 3 &&
              isPlayerGuessing || appStateFirstRunCreatingIndex === 2 && isPlayerCreating}" class="rotate"></icon>
          </button>
        </rotators>
        <input autocomplete="off"
          aria-label="This is an input that holds focus while the tray is rotating. It's not used for anything else."
          aria-hidden="true" maxlength="0" :disabled="appStateIsGuessing" tabindex="-1" id="parkingInput"
          style="opacity: 0; width: 0px; height: 0px; overflow: hidden; position: absolute; z-index: -1"
          v-model="appDataParkingInputValue" tabindex="-1" />
        <ghost :style="{transform: 'translate(' + appDataGhostX + 'px, ' + appDataGhostY + 'px)'}">
          <card class="selected" :style="{rotate: (appDataDraggedCard.rotation * 90) + 'deg'}"
            :class="{show: appStateIsDragging, empty: appDataDraggedCard.words.length === 0}">
            <words>
              <word v-for="word in appDataDraggedCard.words">{{word.value}}</word>
            </words>
          </card>
        </ghost>
        <parking v-if="!appStateUsePortraitLayout">
          <spot v-for="(card, index) in appDataCardsParked" v-if="index < (currentGameGuessingCardCount / 2)"
            :class="{empty: card.words.length === 0, selected: card.isSelected, pointout: index === 0 && card.words.length !== 0 && appStateFirstRunGuessingIndex === 0 && !appStateIsDragging}">
            <rotators>
              <button aria-label="Rotate Tray Clockwise" class="clockwise" @pointerdown="RotateCard(event, card, 1)">
                <icon class="rotate"></icon>
              </button>
              <button aria-label="Rotate Tray Anti-Clockwise" class="anticlockwise"
                @pointerdown="RotateCard(event, card, -1)">
                <icon class="rotate"></icon>
              </button>
            </rotators>
            <card @click="HandleCardClick(event, card)" @pointerup="HandleCardPointerUp(event, card)"
              @pointerdown="HandleCardPointerDown(event, card)" :style="{rotate: (card.rotation * 90) + 'deg'}"
              :class="{rotating: card.isRotating, selected: card.isSelected, dropped: card.justDropped}">
              <words>
                <word v-for="word in card.words">{{word.value}}</word>
              </words>
            </card>
            <rotators>
              <button aria-label="Rotate Tray Clockwise" class="clockwise" @click="RotateCard(event, card, 1)">
                <icon class="rotate"></icon>
              </button>
              <button aria-label="Rotate Tray Anti-Clockwise" class="anticlockwise"
                @click="RotateCard(event, card, -1)">
                <icon class="rotate"></icon>
              </button>
            </rotators>
          </spot>
        </parking>
        <tray id="tray" :class="{rotating: appStateTrayIsRotating}"
          :style=" {rotate: appStateTrayRotation * 90 + 'deg' }">
          <diamond class="back"></diamond>
          <diamond :class="{pointout: (appStateFirstRunCreatingIndex === 1 && isPlayerCreating) || (appStateFirstRunGuessingIndex === 2 &&
            isGuessingFirstRunShowing) || (isPlayerCreating && appStateFirstRunCreatingIndex === 4)}"></diamond>
          <hints>
            <hint @pointerdown=" RotateTrayBasedOnInputFocus(index)" :id="'h' + index"
              v-for="(hint, index) in appDataHints" :key="index"
              :class="{pointout: (appStateFirstRunCreatingIndex === 1 && isPlayerCreating) || (appStateFirstRunGuessingIndex === 2 && isPlayerGuessing)}">
              <input autocomplete="off" autocapitalize="off" autocomplete="off" spellcheck="false" :id="'hint' + index"
                type="text" title="Please only use alphanumeric characters." pattern="[A-Za-z0-9]*"
                :disabled="appStateIsGuessing || index > 0" v-model="hint.value" maxlength="14" type="text"
                placeholder="clue" />
            </hint>
          </hints>
          <cards :class="{disabled: appStateIsModalShowing}">
            <spot v-for="(card, index) in appDataCards" v-if="!card.isExtra"
              :class="{wrong: card.failedCheckAlready && !card.isRotating, empty: card.words.length === 0, selected: card.isSelected, pointout: appStateIsGuessing && appStateFirstRunGuessingIndex === 1 && card.words.length > 0}">
              <rotators v-if="appStateIsGuessing && currentGameSolutionGuessing !== currentGameSolutionActual">
                <button aria-label="Rotate Tray Clockwise" class="clockwise" @click="RotateCard(event, card, 1)">
                  <icon class="rotate"></icon>
                </button>
                <button aria-label="Rotate Tray Anti-Clockwise" class="anticlockwise"
                  @click="RotateCard(event, card, -1)">
                  <icon class="rotate"></icon>
                </button>
              </rotators>
              <card @click="HandleCardClick(event, card)" @pointerup="HandleCardPointerUp(event, card)"
                @pointerdown="HandleCardPointerDown(event, card)" :style="{rotate: (card.rotation * 90) + 'deg'}"
                :class="{rotating: card.isRotating, selected: card.isSelected, dropped: card.justDropped}">
                <words>
                  <word v-for="(word, windex) in card.words" :id="'word' + windex">{{word.value}}</word>
                </words>
              </card>
              <rotators v-if="appStateIsGuessing && currentGameSolutionGuessing !== currentGameSolutionActual">
                <button aria-label="Rotate Tray Clockwise" class="clockwise" @click="RotateCard(event, card, 1)">
                  <icon class="rotate"></icon>
                </button>
                <button aria-label="Rotate Tray Anti-Clockwise" class="anticlockwise"
                  @click="RotateCard(event, card, -1)">
                  <icon class="rotate"></icon>
                </button>
              </rotators>
            </spot>
          </cards>
        </tray>
        <parking v-if="!appStateUsePortraitLayout">
          <spot v-for="(card, index) in appDataCardsParked"
            v-if="index >= (currentGameGuessingCardCount / 2) && (index < currentGameGuessingCardCount)"
            :class="{empty: card.words.length === 0, selected: card.isSelected}">
            <rotators>
              <button aria-label="Rotate Tray Clockwise" class="clockwise" @click="RotateCard(event, card, 1)">
                <icon class="rotate"></icon>
              </button>
              <button aria-label="Rotate Tray Anti-Clockwise" class="anticlockwise"
                @click="RotateCard(event, card, -1)">
                <icon class="rotate"></icon>
              </button>
            </rotators>
            <card @click="HandleCardClick(event, card)" @pointerup="HandleCardPointerUp(event, card)"
              @pointerdown="HandleCardPointerDown(event, card)" :style="{rotate: (card.rotation * 90) + 'deg'}"
              :class="{rotating: card.isRotating, selected: card.isSelected, dropped: card.justDropped}">
              <words>
                <word v-for="word in card.words">{{word.value}}</word>
              </words>
            </card>
            <rotators>
              <button aria-label="Rotate Tray Clockwise" class="clockwise" @click="RotateCard(event, card, 1)">
                <icon class="rotate"></icon>
              </button>
              <button aria-label="Rotate Tray Anti-Clockwise" class="anticlockwise"
                @click="RotateCard(event, card, -1)">
                <icon class="rotate"></icon>
              </button>
            </rotators>
          </spot>
        </parking>
      </wrapper>
      <wrapper class="mobile" :class="{extra: currentGameGuessingCardCount === 5}" v-if="appStateUsePortraitLayout">
        <button class="scroller" :class="{disabled: appDataParkingScrollLeft <= 0}"
          @click="ScrollParking(event, 'right')" v-if="vsUseFocus">
          <icon class="chevronleft large"></icon>
        </button>
        <parking id="parking">
          <spot v-for="(card, index) in appDataCardsParked" v-if="index < currentGameGuessingCardCount"
            :class="{empty: card.words.length === 0, selected: card.isSelected, pointout: appStateIsGuessing && !appStateIsDragging && appStateFirstRunGuessingIndex === 0 && card.words.length !== 0}">
            <rotators v-if="!userSettingsShowAllCards">
              <button aria-label="Rotate Tray Clockwise" class="clockwise" @pointerdown="RotateCard(event, card, 1)">
                <icon class="rotate"></icon>
              </button>
              <button aria-label="Rotate Tray Anti-Clockwise" class="anticlockwise"
                @pointerdown="RotateCard(event, card, -1)">
                <icon class="rotate"></icon>
              </button>
            </rotators>
            <card @pointerup="HandleCardPointerUp(event, card)" @pointerdown="HandleCardPointerDown(event, card)"
              :style="{rotate: (card.rotation * 90) + 'deg'}"
              :class="{rotating: card.isRotating, selected: card.isSelected, dropped: card.justDropped}">
              <words>
                <word v-for="word in card.words">{{word.value}}</word>
              </words>
            </card>
            <rotators v-if="!userSettingsShowAllCards">
              <button aria-label="Rotate Tray Clockwise" class="clockwise" @click="RotateCard(event, card, 1)">
                <icon class="rotate"></icon>
              </button>
              <button aria-label="Rotate Tray Anti-Clockwise" class="anticlockwise"
                @click="RotateCard(event, card, -1)">
                <icon class="rotate"></icon>
              </button>
            </rotators>
          </spot>
        </parking>
        <button class="scroller" :class="{disabled: appParkingRightButtonDisabled}"
          @click="ScrollParking(event, 'left')" v-if="vsUseFocus">
          <icon class="chevronright large"></icon>
        </button>
      </wrapper>
    </app>
    <script src="helpers/console-enhancer.js?2.2.60" type="text/javascript"></script>
    <script src="models/LanguageObject.min.js?2.2.60" type="text/javascript"></script>
    <script src="models/ProgressMessageObject.min.js?2.2.60" type="text/javascript"></script>
    <script src="models/WordSetObject.min.js?2.2.60" type="text/javascript"></script>
    <script src="models/WordObject.min.js?2.2.60" type="text/javascript"></script>
    <script src="models/CardObject.min.js?2.2.60" type="text/javascript"></script>
    <script src="models/PlayerObject.min.js?2.2.60" type="text/javascript"></script>
    <script src="helpers/vue.min.js" type="text/javascript"></script>
    <script src="scripts/facets.js?2.2.60" type="text/javascript"></script>
  </body>

</html>