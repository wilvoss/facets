<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="utf-8" />
    <meta content="x-content-type-options=nosniff" />

    <title>Facets Stats!</title>
    <meta name="apple-mobile-web-app-title" content="Facets! Stats" />
    <meta name="mobile-web-app-capable" content="no" />
    <meta name="apple-touch-fullscreen" content="no" />
    <meta name="apple-mobile-web-app-capable" content="no" />
    <meta name="viewport"
      content="width=device-width, initial-scale=1, viewport-fit=cover, minimum-scale=1, maximum-scale=5, user-scalable=yes" />
    <meta name="theme-color" id="themeColor" content="rgb(0, 9, 15)" />

    <meta name="keywords"
      content="online game, casual game, puzzle game, word game, word association, puzzle, social game" />
    <meta name="description" content="Statistics on Facets: A Puzzle Game of Words and Wits!." />

    <link rel="apple-touch-icon" sizes="120x120" href="../images/icon180.png" />
    <link rel="apple-touch-icon" sizes="180x180" href="../images/icon180.png" />
    <link rel="apple-touch-icon" sizes="192x192" href="../images/icon192.png" />
    <link rel="apple-touch-icon" sizes="512x512" href="../images/icon512-apple-touch.png" />

    <link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png" />
    <link rel="icon" type="image/png" sizes="128x128" href="../favicon.png" />

    <link rel="stylesheet" href="../styles/normalize.css" media="screen" />
    <link rel="stylesheet" href="../styles/main.min.css" media="screen" />
    <style>
      app {
        justify-content: flex-start;
        align-items: center;
        overflow: auto;
        height: 100%;
      }

      header {
        flex-direction: column;
        padding: 8px;
        align-items: center;
      }

      header h1,
      header h2 {
        margin-bottom: 0;
        padding-bottom: 0;
      }

      header h2 {
        margin-top: calc(2 * var(--defaultGap));
        color: hsl(var(--messageColorHSL));
        font-size: 1.17em;
      }

      subtitle {
        color: hsla(var(--appForegroundHSL), 1);
        display: flex;
        flex-direction: row;
        line-height: 1.3em;
        text-align: center;
      }

      subtitle span {
        display: block;
        color: hsla(var(--appForegroundHSL), 0.7);
      }

      stats {
        display: flex;
        flex-direction: row;
        justify-content: center;
        align-content: start;
        align-items: stretch;
        max-width: 500px;
        width: calc(100% - 2 * var(--defaultGap));
        padding: calc(2 * var(--defaultGap)) calc(1 * var(--defaultGap)) 0;
        flex-wrap: wrap;
        gap: calc(0.5 * var(--defaultGap));
      }

      stats:last-of-type {
        margin-bottom: calc(1.5 * var(--defaultGap));
      }

      stat {
        display: flex;
        flex-direction: column;
        justify-content: start;
        align-items: stretch;
        gap: 0;
        flex: 1;
        max-width: 100%;
        padding: 20px 8px;
        background: var(--statBackground);
        border-radius: var(--borderRadius);
        box-shadow: var(--statShadow);
        border: 1px solid var(--statBorder);
      }

      .languages stat:first-of-type {
        width: 100%;
      }

      value,
      key {
        display: block;
        text-align: center;
        line-height: 1.2em;
        padding: 0 20px;
        min-width: 60px;
      }

      key {
        font-size: 0.7em;
        color: hsla(var(--traySolvedBackgroundHSL), 1);
      }

      value {
        font-size: 2.4em;
        line-height: 1.2em;
      }

      icon.spinner {
        margin-top: 190px;
      }

      app::-webkit-scrollbar {
        display: none;

        -ms-overflow-style: none;
        scrollbar-width: none;

        touch-action: auto;
        scroll-behavior: smooth;
      }

      @media screen and (max-width: 678px) {
        stats {
          padding-top: var(--defaultGap);
          max-width: 400px;
        }

        message {
          font-size: .8em;
          margin-bottom: calc(.5 * var(--defaultGap));
        }

        key {
          font-size: .6em;
        }
      }
    </style>
  </head>

  <body>
    <app id="app" v-cloak>
      <link rel="stylesheet" v-if="userSettingsUsesLightTheme" href="../styles/light.css" media="screen" />
      <wrapper>
        <header @click="window.open('/', '_blank')">
          <icon class="logo"></icon>
          <h2>Facets - Global Stats</h2>
        </header>
      </wrapper>
      <subtitle>Oct 24, 2024 - Present <span>(Updated Hourly)</span></subtitle>
      <icon class="spinner" :class="{show: isFetching}"></icon>
      <stats :class="stat.key.toLowerCase()" v-for="stat in stats">
        <message>{{stat.key}}</message>
        <stat class="boxed" v-for="kv in stat.value">
          <value>{{ kv.value }}</value>
          <key>{{ kv.key }}</key>
        </stat>
      </stats>
      <a v-if="!isFetching" style="margin-bottom: 40px" href="/">Open Facets</a>
    </app>
    <script src="../helpers/console-enhancer.js" type="text/javascript"></script>
    <script src="../models/LanguageObject.min.js" type="text/javascript"></script>
    <script src="../models/WordSetObject.min.js" type="text/javascript"></script>
    <script src="../helpers/vue.min.js" type="text/javascript"></script>
    <script src="../scripts/fetch-stats.js" type="text/javascript"></script>
  </body>

</html>