import"../modulepreload-polyfill-B5Qt9EMX.js";import{o as h,l as o}from"../gameplay-D8WbgvML.js";async function l(){return{...await o()}}l().then(i=>{console.log("Modules loaded:",i);const r=h({data(){return{source:"https://facets-get-global-stats.bigtentgames.workers.dev/",isFetching:!1,rawStats:[],stats:[],error:"",userSettingsUsesLightTheme:!1}},methods:{async LoadPage(){this.CheckTheme(),await this.GetStats(),this.stats=this.ProcessRawStats()},OpenGame(){window.open("/","_blank")},async GetStats(){this.isFetching=!0;try{let e=await fetch(this.source,{method:"GET",headers:{"Content-Type":"application/json"}});e.ok?(this.rawStats=await e.json(),this.isFetching=!1):(this.error="Error fetching data: "+e.statusText,this.isFetching=!1)}catch(e){this.error="Error fetching data: "+e,this.isFetching=!1}},CheckTheme(){let e=localStorage.getItem("userSettingsUsesLightTheme");e!=null&&(this.userSettingsUsesLightTheme=JSON.parse(e))},ProcessRawStats(){let e=[];e.push({key:"General",value:[{key:"Games Created",value:this.rawStats.totalGames},{key:"Hard Games",value:this.rawStats.totalHardGames}]});let a=[];this.rawStats.languagesCount.forEach(t=>{a.push({key:i.allLanguages.find(n=>n.tag===t.lang).name,value:t.count})}),this.SortByValueThenName(a,"key"),e.push({key:"Language",value:a});let s=[];return this.rawStats.wordsetIDCount.forEach(t=>{s.push({key:i.wordSets.find(n=>n.id===t.id).name,value:t.count})}),this.SortByValueThenName(s,"key"),e.push({key:"Category",value:s}),e},SortByValueThenName(e,a){e.sort((s,t)=>t.value!==s.value?t.value-s.value:s[a]&&t[a]?s[a].localeCompare(t[a]):0)},HandleOnVisibilityChange(e){this.CheckTheme()}},mounted(){this.LoadPage(),window.addEventListener("visibilitychange",this.HandleOnVisibilityChange)},watch:{},computed:{getLanguageCounts:function(){return[]}}});window.app=r.mount("#app")});
