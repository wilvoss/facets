let timer,count,counter,loading,controls,message,refresh,okay;async function HandleOnLoadEvent(e){loading=document.getElementById("loading"),controls=document.getElementById("controls"),message=document.getElementById("message"),counter=document.getElementById("counter"),refresh=document.getElementById("refresh"),okay=document.getElementById("okay");var n=window.location.search.split("?")[1];if(location.search&&""!==location.search){var o;try{o=new URL(decodeURIComponent(window.location))}catch(e){return void HandleError()}o="https://worker-winter-glade-cd02.bigtentgames.workers.dev/"+encodeURIComponent(n),await fetch(o,{method:"GET",headers:{Host:window.location.hostname,Origin:window.location.origin,"Access-Control-Request-Method":"GET","Access-Control-Request-Headers":"Content-Type"}}).then((e=>{if(!e.ok)throw new Error("Server error: "+e.status);return e.text()})).then((e=>{-1===e.indexOf("&board=")?HandleError(!0):location.href=location.origin+"/?"+e})).catch((e=>{HandleError(!0)}))}else HandleError()}function HandleError(e=!1){loading.className="hide",message.className="",okay.className="padded",e?(count=60,message.innerHTML="Cutting and polishing a gem takes time! <br />Try refreshing in "+count+" seconds.",refresh.className="padded secondary disabled",window.setInterval((()=>{count--,count<=0?(window.clearInterval(timer),message.innerHTML="Cutting and polishing a gem takes time! <br />Try refreshing your browser.",refresh.className="padded secondary"):message.innerHTML="Cutting and polishing a gem takes time! <br />Try refreshing in "+count+" seconds."}),1e3)):message.innerHTML="You've reached this page in error."}function HandleOnUnloadEvent(){window.clearInterval(timer)}window.addEventListener("load",HandleOnLoadEvent),window.addEventListener("unload",HandleOnUnloadEvent);