Vue.config.devtools=!1,Vue.config.debug=!1,Vue.config.silent=!0,Vue.config.ignoredElements=["app"];var app=new Vue({el:"#app",data:{appDataVersion:"1.2.95",appDataCards:[],appDataCardsParked:[],appDataLanguages:AllLanguages,appDataConfirmationObject:{message:"Did they have the right answer?",target:"correct"},appDataDraggedCard:new CardObject({}),appDataDraggedCardStartedInParkingLot:!1,appDataEmptyCard:new CardObject({id:"ghost"}),appDataGameCatchphrase:"A Puzzle Game of Words and Wits!",appDataGameName:"Facets",appDataGhostX:0,appDataGhostY:0,appDataVelocity:0,appDataLastDiffX:0,appDataCheckForPan:!1,appDataInertialInterval:null,appDataGlobalCreatedGames:[],appDataHints:[],appDataMessage:"",appDataParkingInputValue:"",appDataPlayerCurrent:new PlayerObject({}),appDataPlayerCreator:new PlayerObject({}),appDataPlayerSender:new PlayerObject({}),appDataShareURL:"",appDataTimeoutCardRotation:null,appDataTimeoutTrayRotation:null,appDataTimeoutNotification:null,appDataTransitionLong:0,appDataTransitionShort:0,appDataWordSets:[...WordSets],appStateForceAutoCheck:!1,appStateIsDragging:!1,appStateIsGettingTinyURL:!1,appStateIsGettingLast10Games:!1,appStateIsGuessing:!1,appStateIsModalShowing:!1,appStateIsNewVersionAvailable:!1,appStatePageHasLoaded:!1,appStateShowCatChooser:!1,appStateShowConfirmation:!1,appStateShowGlobalCreated:!1,appStateShowInfo:!1,appStateShowIntro:!1,appStateShowOOBE:!1,appStateShowSettings:!1,appStateShowTutorial:!1,appStateTrayIsRotating:!1,appStateTrayRotation:0,appStateUsePortraitLayout:!1,appStateIsHorizontalPan:!1,appStateShowNotification:!0,currentGameGuessCount:0,currentGameGuessersName:"",currentGameLanguage:"",currentGameGuessingCardCount:4,currentGameGuessingWordSet:WordSets.find((t=>"100"===t.id)),currentGameReviewIsFinal:!1,currentGameSolutionActual:"",currentGameSolutionGuessing:[],currentGameWordSet:WordSets.find((t=>"100"===t.id)),userSettingsUseExtraCard:!1,userSettingsUsesLightTheme:!1,userSettingsUsesSimplifiedTheme:!1,userSettingsUseMultiColoredGems:!0,userSettingsUseWordSetThemes:!1,userSettingsStreaks:[],userSettingsFocus:!1,userSettingsLanguage:"en-us",tempName:"",tempID:0,tempShareURLCode:"",tempUseMultiColoredGems:!0,tempUserSettingsUsesLightTheme:!1,tempUserSettingsUsesSimplifiedTheme:!1,tempUseWordSetThemes:!1,tempWordSetName:"",tempUsePortraitLayout:!1,tempUseExtraCard:!1,tempWordSets:[],tempUserSettingsLanguage:"en-us",documentCssRoot:document.querySelector(":root")},methods:{ToggleShowTutorial(t){note("ToggleShowTutorial() called"),null!=t&&(t.stopPropagation(),t.preventDefault()),this.appStateShowTutorial=!this.appStateShowTutorial},ToggleUseLightTheme(t){this.userSettingsUsesLightTheme=t,this.userSettingsUsesLightTheme?document.getElementById("themeColor").content="hsl(140, 100%, 89%)":document.getElementById("themeColor").content="rgb(0, 9, 15)"},ToggleUseSimplifedTheme(t){this.userSettingsUsesSimplifiedTheme=t,this.userSettingsUsesSimplifiedTheme&&(this.tempUseMultiColoredGems=!0)},ToggleFocus(){window.innerWidth<=660&&(this.userSettingsFocus=!this.userSettingsFocus)},async ToggleShowGlobalCreated(){this.appStateShowGlobalCreated=!this.appStateShowGlobalCreated,0===this.appDataGlobalCreatedGames.length&&this.GetLast10GlobalCreatedGames()},ToggleShowInfo(t){note("ToggleShowInfo() called"),null!=t&&(t.stopPropagation(),t.preventDefault()),this.appStateShowInfo=!this.appStateShowInfo},SetTempLanguage(t){note("SetTempLanguage() called"),this.tempUserSettingsLanguage=t},ToggleTempUseWordSetThemes(){note("ToggleTempUseWordSetThemes() called"),this.tempUseWordSetThemes=!this.tempUseWordSetThemes},ToggleTempUseLightTheme(){note("ToggleTempUseLightTheme() called"),this.tempUserSettingsUsesLightTheme=!this.tempUserSettingsUsesLightTheme},ToggleTempUseSimplifiedTheme(){note("ToggleTempUseSimplifiedTheme() called"),this.tempUserSettingsUsesSimplifiedTheme=!this.tempUserSettingsUsesSimplifiedTheme},ToggleTempUsePortraitLayout(){note("ToggleTempUsePortraitLayout() called"),this.tempUsePortraitLayout=!this.tempUsePortraitLayout},ToggleTempUseMultiColoredGems(){note("ToggleTempUsePortraitLayout() called"),this.tempUseMultiColoredGems=!this.tempUseMultiColoredGems},ToggleTempUseExtraCard(){note("ToggleTempUseExtraCard() called"),this.tempUseExtraCard=!this.tempUseExtraCard},ShowCategoryPicker(){this.tempWordSetName=this.getCurrentSelectedTempWordSetName},ShowSettings(){note("ShowSettings() called"),this.appStateIsModalShowing=!0,this.appStateShowSettings=!0,this.GetCategoryNames()},GetCategoryNames(){this.tempWordSets=[],this.tempWordSetName=this.getCurrentSelectedTempWordSetName,this.appDataWordSets.forEach((t=>{this.tempWordSets.push(new WordSetObject(t))})),this.tempName=this.appDataPlayerCurrent.name},SetWordSetTheme(t){if(note("SetWordSetTheme() called"),this.userSettingsUseWordSetThemes)this.documentCssRoot.style.setProperty("--texture2","url("+t.textureImage+")"),this.documentCssRoot.style.setProperty("--textureSize",t.textureSize),this.documentCssRoot.style.setProperty("--textureBlendMode",t.textureBlendMode),this.documentCssRoot.style.setProperty("--textureHue",t.textureHue);else{let t=this.documentCssRoot.style.getPropertyValue("--textureSource");this.documentCssRoot.style.setProperty("--texture2",t),this.documentCssRoot.style.setProperty("--textureSize","cover"),this.documentCssRoot.style.setProperty("--textureBlendMode","normal");let e=this.documentCssRoot.style.getPropertyValue("--textureHueSource");this.documentCssRoot.style.setProperty("--textureHue",e)}this.documentCssRoot.style.setProperty("--wordScale",t.scale)},async LoadTranslatedWords(){let t=await this.GetCurrentGameWordSet(),e={};t.forEach((t=>{e[t.id]=t})),this.appDataCards.forEach((t=>{t.words.forEach((t=>{e[t.id]&&(t.value=e[t.id].value)}))})),this.appDataCardsParked.forEach((t=>{t.words.forEach((t=>{e[t.id]&&(t.value=e[t.id].value)}))}))},async GetCurrentGameWordSet(){log("GetCurrentGameWordSet() called");let t=[],e=""===this.userSettingsLanguage?"":this.userSettingsLanguage+"/";""!==this.currentGameLanguage&&(e=this.currentGameLanguage);let a=this.currentGameWordSet.data.map((async t=>{let a=t.toString().replace("./data/","./data/"+e);this.currentGameWordSet.noLanguage&&(a=t.toString().replace("./data/","./data/common/"));const s=await fetch(a);return await s.json()}));try{let e=await Promise.all(a);t=[].concat(...e)}catch(t){}return t},async GetGuessingGameWordSet(){log("GetGuessingGameWordSet() called");let t=""===this.userSettingsLanguage?"":this.userSettingsLanguage+"/";""!==this.currentGameLanguage&&(t=this.currentGameLanguage+"/");let e=[],a=this.currentGameGuessingWordSet.data.map((async e=>{let a=e.toString().replace("./data/","./data/"+t);this.currentGameGuessingWordSet.noLanguage&&(a=e.toString().replace("./data/","./data/common/"));const s=await fetch(a);return await s.json()}));try{let t=await Promise.all(a);e=[].concat(...t)}catch(t){}return e},IsCurrentGuessCorrect(){if(note("IsCurrentGuessCorrect() called"),4===this.getNumberOfCardsThatHaveBeenPlacedOnTray){this.currentGameGuessCount++;let t=[];this.appDataHints.forEach((e=>{t.push(e.value)}));let e=this.currentGameSolutionActual.split(":"),a=this.GetCurrentSolutionParamString().split(":"),s=[];for(let t=0;t<e.length;t+=3)for(let r=0;r<a.length;r+=3)if(e[t]===a[r]){s.push(a[r],a[r+1],a[r+2]);break}if(this.currentGameSolutionGuessing=s.join(":"),this.currentGameSolutionActual===this.currentGameSolutionGuessing&&this.RotateTray(8),s[1]!==e[1]){let t=this.appDataCards.find((t=>t.words.some((t=>t.id===parseInt(s[1])))));this.SwapCards(t,this.getFirstAvailableParkingSpot)}if(s[2]!==e[2]){let t=this.appDataCards.find((t=>t.words.some((t=>t.id===parseInt(s[2])))));this.SwapCards(t,this.getFirstAvailableParkingSpot)}if(s[10]!==e[10]){let t=this.appDataCards.find((t=>t.words.some((t=>t.id===parseInt(s[10])))));this.SwapCards(t,this.getFirstAvailableParkingSpot)}if(s[11]!==e[11]){let t=this.appDataCards.find((t=>t.words.some((t=>t.id===parseInt(s[11])))));this.SwapCards(t,this.getFirstAvailableParkingSpot)}return this.appDataMessage=this.GetMessageBasedOnTrayCount(!0,""),!1}},async FillParkingLot(){note("FillParkingLot() called"),this.appDataPlayerCreator.id=this.appDataPlayerCurrent.id,this.appStateIsGuessing=!0;let t=[new CardObject({}),new CardObject({}),new CardObject({}),new CardObject({})],e=0;this.currentGameSolutionActual=this.GetCurrentSolutionParamString(),this.appDataCards.concat(this.appDataCardsParked).forEach((t=>{t.id=this.appDataPlayerCurrent.value+e++,t.rotation=(1===getRandomInt(0,1)?1:-1)*getRandomInt(0,4)})),this.ResetCardsAfterRotation(!1),this.appDataCardsParked=this.appDataCards;let a=[];this.appDataCards.forEach((t=>{t.words.forEach((t=>{a.push(t)}))}));let s=await this.GetCurrentGameWordSet();5===this.currentGameGuessingCardCount&&this.appDataCardsParked.push(new CardObject({words:getUniqueWords(s,4,getJustWords(a))}));for(let t=this.appDataCardsParked.length-1;t>0;t--){let e=Math.floor(Math.random()*(t+1));[this.appDataCardsParked[t],this.appDataCardsParked[e]]=[this.appDataCardsParked[e],this.appDataCardsParked[t]]}4===this.currentGameGuessingCardCount&&this.appDataCardsParked.push(new CardObject({})),this.appDataCardsParked.push(new CardObject({})),this.appDataCards=t,await this.ShareBoard(!1,!0),this.GetLast10GlobalCreatedGames()},async RestoreGame(t){note("RestoreGame() called");var e=new URLSearchParams(window.location.search);this.appDataPlayerSender.name=e.has("sendingName")?e.get("sendingName"):this.appDataPlayerSender.name,this.currentGameGuessersName=this.appDataPlayerSender.name,this.currentGameLanguage=e.has("lang")?e.get("lang"):"en-us",this.appDataPlayerCreator.name=e.has("puzzleName")?e.get("puzzleName"):this.appDataPlayerCreator.name,this.appDataPlayerSender.id=e.has("sendingID")?parseInt(e.get("sendingID")):this.appDataPlayerSender.id,this.appDataPlayerCreator.id=e.has("puzzleID")?parseInt(e.get("puzzleID")):this.appDataPlayerCreator.id,this.currentGameGuessingWordSet=e.has("wordSetID")?this.appDataWordSets.find((t=>t.id===e.get("wordSetID"))):this.currentGameWordSet,this.currentGameGuessingCardCount=e.has("useExtraCard")&&JSON.parse(e.get("useExtraCard"))?5:4,this.appStateForceAutoCheck=0===this.appDataPlayerCreator.id,note("sender = "+this.appDataPlayerSender.id),note("creator = "+this.appDataPlayerCreator.id),note("current = "+this.appDataPlayerCurrent.id),this.appDataPlayerSender.id===this.appDataPlayerCreator.id||this.appDataPlayerCreator.id===this.appDataPlayerCurrent.id||this.appStateForceAutoCheck||(this.appStateIsModalShowing=!0,this.appDataConfirmationObject={message:"Are you, ("+this.appDataPlayerCreator.name+"), the original creator of this puzzle?",target:"creator"},this.appStateShowConfirmation=!0);let a=!1;if(t.length>=40){this.appDataShareURL=window.location.href;let s=await this.GetGuessingGameWordSet();this.appDataCards=[new CardObject({}),new CardObject({}),new CardObject({}),new CardObject({})],this.appDataCardsParked=[new CardObject({}),new CardObject({}),new CardObject({}),new CardObject({}),new CardObject({}),new CardObject({})],this.appDataHints=[new WordObject({}),new WordObject({}),new WordObject({}),new WordObject({})];let r=0;this.appDataCards.forEach((e=>{for(let i=0;i<4;i++){if(""!==t[r]){let i=s.find((e=>e.id===parseInt(t[r])));void 0===i&&(a=!0),e.words.push(i)}r++}})),this.appDataCardsParked.forEach((e=>{for(let i=0;i<4;i++){if(""!==t[r]){let i=s.find((e=>e.id===parseInt(t[r])));void 0===i&&(a=!0),e.words.push(i)}r++}})),this.appDataHints.forEach((e=>{e.value=t[r++]})),e.has("sol")?(this.currentGameSolutionActual=e.get("sol"),e.has("final")&&(this.currentGameSolutionGuessing=this.currentGameSolutionActual,this.appDataMessage=this.appDataPlayerCurrent.name+", here's the solution.",this.currentGameReviewIsFinal=!0)):this.currentGameSolutionActual=[],this.SetWordSetTheme(this.currentGameGuessingWordSet),this.documentCssRoot.style.setProperty("--wordScale",this.currentGameGuessingWordSet.scale),this.appDataPlayerCurrent.role=this.appDataPlayerCreator.id===this.appDataPlayerCurrent.id&&this.appDataPlayerCurrent.id!==this.appDataPlayerSender.id?"reviewer":"guesser"}this.appStateIsGuessing=!0,a&&(announce("the data was corrupt"),this.NewGame(null,"😕 - Something went wrong."))},async CreateCardsForPlayer(t){note("CreateCardsForPlayer() called");let e=await this.GetCurrentGameWordSet(),a=getUniqueWords(e);for(let t=0;t<4;t++){const e=new CardObject({position:t});3===t&&(e.position=2),2===t&&(e.position=3),e.words=a.slice(0+4*t,4+4*t),this.appDataCards.push(e)}},SelectWordSet(t,e){note("SelectWordSet() called"),null!==t&&(t.preventDefault(),t.stopPropagation()),this.tempWordSets.forEach((t=>{t.isSelected=!1})),e.isSelected=!0,this.documentCssRoot.style.setProperty("--wordScale",e.scale)},GetCurrentSolutionParamString(){note("GetCurrentSolutionParamString() called");let t=[];return this.appDataHints.forEach((t=>{t.value=t.value.trim()})),4===this.getNumberOfCardsThatHaveBeenPlacedOnTray&&(t.push(this.appDataHints[0].value),t.push(this.appDataCards[0].words[0].id),t.push(this.appDataCards[1].words[0].id),t.push(this.appDataHints[1].value),t.push(this.appDataCards[1].words[1].id),t.push(this.appDataCards[3].words[1].id),t.push(this.appDataHints[2].value),t.push(this.appDataCards[2].words[3].id),t.push(this.appDataCards[0].words[3].id),t.push(this.appDataHints[3].value),t.push(this.appDataCards[3].words[2].id),t.push(this.appDataCards[2].words[2].id)),t.join(":")},GetUniqueCardId(t){if(note("GetUniqueCardId() called"),0===t.length)return 0;let e="";t.forEach((t=>{e+=t.value.toLowerCase()})),e=e.split(""),e=e.sort(),e=e.join("");let a=0;for(let t=0;t<e.length;t++)a=(26*a+(e.charCodeAt(t)-"a".charCodeAt(0)+1))%1000000007;return a},CheckIfCardIsInTray(t){return note("CheckIfCardIsInTray() called"),!(!t.words||0===t.words.length)&&(this.appDataCards.forEach((e=>{if(this.GetUniqueCardId(e.words)===this.GetUniqueCardId(t.words))return!0})),!1)},async GetLast10GlobalCreatedGames(){note("GetLast10GlobalCreatedGames() called"),this.appStateIsGettingLast10Games=!0,this.appDataGlobalCreatedGames=[];await fetch("https://worker-falling-frost-2926.bigtentgames.workers.dev/",{method:"GET",headers:{Host:window.location.hostname,Origin:window.location.origin,"Access-Control-Request-Method":"GET","Access-Control-Request-Headers":"Content-Type"}}).then((t=>{if(!t.ok)throw this.appStateIsGettingLast10Games=!1,new Error("Server error: "+t.status);return t.text()})).then((t=>{this.appDataGlobalCreatedGames=JSON.parse(t)})).catch((t=>{this.appStateIsGettingLast10Games=!1})),this.appStateIsGettingLast10Games=!1},HandleSubmitButtonPress(){note("HandleSubmitButtonPress() called"),"reviewer"===this.appDataPlayerCurrent.role&&4===this.getNumberOfCardsThatHaveBeenPlacedOnTray?(this.appStateIsModalShowing=!0,this.appDataConfirmationObject={message:"Did they have the right answer?",target:"correct"},this.appStateShowConfirmation=!0):this.appStateIsGuessing?this.appStateForceAutoCheck&&"reviewer"!==this.appDataPlayerCurrent.role&&this.appStateIsGuessing&&this.appDataPlayerCurrent.id!==this.appDataPlayerCreator.id?this.IsCurrentGuessCorrect():this.ShareBoard():this.FillParkingLot()},HandleOldGameClick(t){let e=["?"];e.push("sendingName=a Player"),e.push("&sendingID="+encodeURIComponent(t.sendingID)),e.push("&puzzleName=a Player"),e.push("&puzzleID="+encodeURIComponent(t.puzzleID)),e.push("&lang="+encodeURIComponent(t.lang)),e.push("&wordSetID="+encodeURIComponent(t.wordSetID)),e.push("&useExtraCard="+encodeURIComponent(t.useExtraCard)),e.push("&sol="+encodeURIComponent(t.sol)),e.push("&board="+encodeURIComponent(t.board));let a=e.join(""),s=location.origin+a;history.pushState(null,null,s)},HandleGoButtonClick(t){note("HandleGoButtonClick() called"),this.SubmitSettings(t),this.appStateShowCatChooser=!1},HandleNewGameClick(){note("HandleNewGameClick() called"),this.GetCategoryNames(),this.appStateShowCatChooser=!0},HandleYesNo(t,e){switch(t){case"correct":this.ShareBoard(e);break;case"newgame":e&&this.NewGame(null);break;case"creator":e&&(confirm=window.confirm("Are you sure you are, ("+this.appDataPlayerCreator.name+"), the original creator?"),confirm&&(this.tempID=this.appDataPlayerCreator.id,this.appDataPlayerCurrent.id=this.appDataPlayerCreator.id,this.appDataPlayerCurrent.role="reviewer",localStorage.setItem("userID",this.appDataPlayerCurrent.id)));break;default:break}this.appStateShowConfirmation=!1,this.appStateIsModalShowing=!1},HandlePointerMoveEvent(t){const e=t.clientX-this.appDataGhostX,a=t.clientY-this.appDataGhostY;this.appDataGhostX=t.clientX,this.appDataGhostY=t.clientY;var s=document.getElementById("parking");this.appStateIsHorizontalPan||this.appDataCheckForPan||(log("checking for horizontal pan in parking lot"),Math.abs(e)>Math.abs(a)&&this.appDataDraggedCardStartedInParkingLot&&this.userSettingsFocus&&(this.appStateIsHorizontalPan=!0,this.appDataDraggedCard.isSelected=!1,this.appDataDraggedCard=this.appDataEmptyCard,this.appStateIsDragging=!1)),this.appDataCheckForPan=!0,this.appStateIsHorizontalPan&&this.appDataDraggedCardStartedInParkingLot&&"parking"===t.target.parentElement.parentElement.id&&(s.scrollLeft-=e,this.appDataVelocity=e-this.appDataLastDiffX,this.appDataLastDiffX)},ApplyInertia(){log("ApplyInertia() called"),this.appDataInertialInterval=setInterval((()=>{if(Math.abs(this.appDataVelocity)<.1)clearInterval(this.appDataInertialInterval);else{var t=document.getElementById("parking").scrollLeft-this.appDataVelocity;document.getElementById("parking").scrollLeft=t,log("newScroll = "+t),log('document.getElementById("parking").scrollLeft = '+document.getElementById("parking").scrollLeft),this.appDataVelocity*=.95}}),16)},IsElementInsideContainer(t,e){const a=t.getBoundingClientRect(),s=e.getBoundingClientRect();return a.top>=s.top&&a.left>=s.left&&a.bottom<=s.bottom&&a.right<=s.right},HandlePageVisibilityChange(){let t=localStorage.getItem("userID");null!=t?(t=JSON.parse(t),this.appDataPlayerCurrent.id=t):(this.appDataPlayerCurrent.id=getRandomInt(1e7,1e8),localStorage.setItem("userID",this.appDataPlayerCurrent.id),this.appStateShowOOBE=""!==window.location.search),this.tempID=parseInt(this.appDataPlayerCurrent.id);let e=localStorage.getItem("name");null!=e?this.appDataPlayerCurrent.name=e:(this.appStateIsModalShowing=!0,this.appStateShowIntro=!0,setTimeout((()=>{document.getElementById("nameInput").focus()}),410)),this.appDataWordSets.forEach((t=>{t.isSelected=!1}));let a=localStorage.getItem("wordSet");null!=a&&this.appDataWordSets.find((t=>t.id===a))?this.currentGameWordSet=this.appDataWordSets.find((t=>t.id===a)):this.currentGameWordSet=WordSets.find((t=>"100"===t.id)),this.currentGameWordSet.isSelected=!0;let s=localStorage.getItem("userSettingsLanguage");null!=s&&(this.userSettingsLanguage=s,this.tempUserSettingsLanguage=this.userSettingsLanguage);let r=localStorage.getItem("useWordSetThemes");null!=r&&(this.userSettingsUseWordSetThemes=JSON.parse(r),this.tempUseWordSetThemes=this.userSettingsUseWordSetThemes,this.SetWordSetTheme(this.currentGameWordSet)),this.appStateIsGuessing?this.documentCssRoot.style.setProperty("--wordScale",this.currentGameGuessingWordSet.scale):this.documentCssRoot.style.setProperty("--wordScale",this.currentGameWordSet.scale);let i=localStorage.getItem("useExtraCard");null!=i&&(this.userSettingsUseExtraCard=JSON.parse(i),this.tempUseExtraCard=this.userSettingsUseExtraCard);let o=localStorage.getItem("userSettingsUsesLightTheme");null!=o&&(this.ToggleUseLightTheme(JSON.parse(o)),this.tempUserSettingsUsesLightTheme=this.userSettingsUsesLightTheme);let n=localStorage.getItem("userSettingsUsesSimplifiedTheme");null!=n&&(this.ToggleUseSimplifedTheme(JSON.parse(n)),this.tempUserSettingsUsesSimplifiedTheme=this.userSettingsUsesSimplifiedTheme);let p=localStorage.getItem("useMultiColoredGems");null!=p&&(this.userSettingsUseMultiColoredGems=JSON.parse(p),this.tempUseMultiColoredGems=this.userSettingsUseMultiColoredGems)},HandleBodyPointerUp(t,e){note("HandleBodyPointerUp() called"),this.appStateIsModalShowing?this.appDataDraggedCard.isSelected=!1:(this.appStateIsDragging=!1,this.appDataDraggedCard=this.appDataEmptyCard),this.appDataCheckForPan=!1,this.appStateIsHorizontalPan=!1,this.appDataDraggedCardStartedInParkingLot=!1},HandleBodyPointerDown(t){this.appStateIsModalShowing||this.appStateShowTutorial||this.appStateShowInfo||this.appStateShowIntro,this.appDataGhostX=t.clientX,this.appDataGhostY=t.clientY,this.appStateIsHorizontalPan=!1,this.appDataCheckForPan=!1,clearInterval(this.appDataInertialInterval)},HandleCardPointerDown(t,e){note("HandleCardPointerDown() called"),null!==t&&(t.preventDefault(),t.stopPropagation(),this.appDataGhostX=t.clientX,this.appDataGhostY=t.clientY,t.target.hasPointerCapture(t.pointerId)&&t.target.releasePointerCapture(t.pointerId),this.appDataDraggedCardStartedInParkingLot="parking"===t.target.parentElement.parentElement.id),this.appStateIsHorizontalPan=!1,this.appDataCheckForPan=!1,this.appDataDraggedCard=e,this.appStateIsDragging=!0},HandleCardPointerUp(t,e){if(note("HandleCardPointerUp() called"),t.preventDefault(),t.stopPropagation(),this.appDataMessage="",this.getSelectedCard&&this.getSelectedCard===e)return this.appDataDraggedCard=this.appDataEmptyCard,void(this.appStateIsDragging=!1);this.appDataDraggedCard.words.length>0&&!this.appStateIsHorizontalPan&&this.SwapCards(e,this.appDataDraggedCard),this.appStateIsHorizontalPan&&this.ApplyInertia(),this.appStateIsHorizontalPan&&(this.appDataDraggedCard.isSelected=!1,this.appDataDraggedCard=this.appDataEmptyCard,this.appStateIsDragging=!1),this.appDataCheckForPan=!1,this.appStateIsHorizontalPan=!1,this.appDataDraggedCardStartedInParkingLot=!1},HandlePickerCardClicked(t,e){note("HandlePickerCardClicked() called"),t.preventDefault(),t.stopPropagation(),this.appDataMessage="",null===e&&(e=this.getFirstAvailableParkingSpot),this.SwapCards(e,this.appDataDraggedCard),this.appStateIsModalShowing=!1},CancelSettings(t){note("CancelSettings() called"),null!==t&&(t.preventDefault(),t.stopPropagation()),this.appStateIsModalShowing=!1,this.appStateShowSettings=!1,this.appStateShowIntro=!1,this.tempID=this.appDataPlayerCurrent.id,this.tempUseMultiColoredGems=this.userSettingsUseMultiColoredGems,this.tempUseWordSetThemes=this.userSettingsUseWordSetThemes,this.tempUserSettingsLanguage=this.userSettingsLanguage,this.tempUserSettingsUsesLightTheme=this.userSettingsUsesLightTheme,this.tempUseExtraCard=this.userSettingsUseExtraCard,this.tempUserSettingsUsesSimplifiedTheme=this.userSettingsUsesSimplifiedTheme},HandleIntroButtonClick(t){note("HandleIntroButtonClick() called"),this.SubmitSettings(null),this.appStateShowOOBE=!0},SubmitSettings(t){if(note("SubmitSettings() called"),null!==t&&(t.preventDefault(),t.stopPropagation()),this.appDataPlayerCurrent.name=""!==this.tempName?this.tempName.trim():this.appDataPlayerCurrent.name,this.appStateIsGuessing||(this.appDataPlayerCreator.name=this.appDataPlayerCurrent.name),localStorage.setItem("name",this.appDataPlayerCurrent.name),this.appStateShowSettings||this.appStateShowCatChooser){this.userSettingsLanguage=this.tempUserSettingsLanguage;let e=this.tempWordSets.find((t=>t.name===this.tempWordSetName));this.SelectWordSet(t,e);let a=!1;a=this.appDataWordSets.find((t=>!0===t.isSelected)).id!==this.tempWordSets.find((t=>!0===t.isSelected)).id,this.appDataWordSets=this.tempWordSets,this.currentGameWordSet=this.appDataWordSets.find((t=>!0===t.isSelected)),(a&&!this.appStateIsGuessing||this.appStateShowCatChooser)&&(this.NewGame(),this.SetWordSetTheme(this.currentGameGuessingWordSet)),this.appDataPlayerCurrent.id=this.tempID,this.userSettingsUseWordSetThemes=this.tempUseWordSetThemes,this.userSettingsUseExtraCard=this.tempUseExtraCard,this.ToggleUseLightTheme(this.tempUserSettingsUsesLightTheme),this.ToggleUseSimplifedTheme(this.tempUserSettingsUsesSimplifiedTheme),this.userSettingsUseMultiColoredGems=this.tempUseMultiColoredGems,this.currentGameGuessingCardCount=this.userSettingsUseExtraCard?5:4,this.SetWordSetTheme(this.currentGameGuessingWordSet),localStorage.setItem("userID",this.appDataPlayerCurrent.id),localStorage.setItem("useWordSetThemes",this.userSettingsUseWordSetThemes),localStorage.setItem("userSettingsLanguage",this.userSettingsLanguage),localStorage.setItem("userSettingsUsesLightTheme",this.userSettingsUsesLightTheme),localStorage.setItem("userSettingsUsesSimplifiedTheme",this.userSettingsUsesSimplifiedTheme),localStorage.setItem("useMultiColoredGems",this.userSettingsUseMultiColoredGems),localStorage.setItem("useExtraCard",this.userSettingsUseExtraCard),localStorage.setItem("wordSet",this.currentGameWordSet.id)}this.appStateIsModalShowing=!1,this.appStateShowSettings=!1,this.appStateShowIntro=!1},HandleKeyDownEvent(t){if(!t.metaKey&&!t.ctrlKey&&!t.altKey)switch(t.key){case"Enter":note("HandleKeyDownEvent() called"),t.preventDefault(),this.appStateShowSettings||this.appStateShowTutorial||this.appStateShowIntro||this.appStateShowInfo||this.appStateShowConfirmation||this.appStateIsGuessing||4!==this.getNumberOfHintsThatHaveBeenFilled||this.FillParkingLot(),this.appStateShowSettings?this.SubmitSettings(t):this.appStateShowTutorial?(this.appStateShowOOBE=!1,this.ToggleShowTutorial(null)):this.appStateShowIntro?this.HandleIntroButtonClick(null):this.appStateShowConfirmation?this.HandleYesNo(this.appDataConfirmationObject.target,!0):this.appStateShowInfo?this.appStateShowInfo=!1:this.appStateShowGlobalCreated?this.appStateShowGlobalCreated=!1:this.appStateShowCatChooser&&this.HandleGoButtonClick(t);break;case"Tab":note("HandleKeyDownEvent() called"),t.preventDefault(),this.appStateTrayIsRotating||this.RotateTray(t.shiftKey?1:-1);break;case":":case"?":case"&":case"=":t.preventDefault(),t.stopPropagation();case"Escape":this.appStateShowOOBE=!1,this.appStateShowSettings?this.CancelSettings(null):this.appStateShowTutorial?this.ToggleShowTutorial(null):this.appStateShowCatChooser?this.appStateShowCatChooser=!1:this.appStateShowConfirmation?this.HandleYesNo(this.appDataConfirmationObject.target,!1):this.appStateShowInfo?this.appStateShowInfo=!1:this.appStateShowGlobalCreated&&(this.appStateShowGlobalCreated=!1);break;default:}},HandleResize(){this.appStateUsePortraitLayout=document.body.offsetWidth/document.body.offsetHeight<.75},HandlePopState(){note("HandlePopState() called"),window.location.search?this.LoadPage():this.NewGame(null)},HandleUpdateAppButtonClick(){this.appStateIsNewVersionAvailable=!1,this.serviceWorker?(this.serviceWorker.postMessage({action:"skipWaiting"}),this.serviceWorker.addEventListener("controllerchange",(()=>{window.location.reload(!0)}))):window.location.reload(!0)},CheckForServiceWorkerUpdate(){note("CheckForServiceWorkerUpdate() called"),"serviceWorker"in navigator&&navigator.serviceWorker.getRegistrations().then((function(t){for(let e of t)e.update()}))},HandleServiceWorkerUnregistration(){"serviceWorker"in navigator&&navigator.serviceWorker.getRegistrations().then((function(t){for(let e of t)e.unregister(),e.active.postMessage("SKIP_WAITING")}))},HandleServiceWorkerRegistration(){note("HandleServiceWorkerRegistration() called"),"serviceWorker"in navigator&&navigator.serviceWorker.register("./sw.js").then((t=>{t.addEventListener("updatefound",(()=>{this.serviceWorker=t.installing,this.serviceWorker.addEventListener("statechange",(()=>{switch(this.serviceWorker.state){case"installed":navigator.serviceWorker.controller&&(this.appStateIsNewVersionAvailable=!0);break}}))}))}))},ShareWin(){note("ShareWin() called");let t=this.appDataPlayerCreator.name+", I got it in "+this.currentGameGuessCount+" tries! 😀";this.ConstructAndSetShareURLForCurrentGame(),1===this.currentGameGuessCount&&(t=this.appDataPlayerCreator.name+", I got it in 1 try! 🔥"),this.ShareText(t,"")},async CopyTextToClipboard(t){navigator.clipboard?window.ClipboardItem?await navigator.clipboard.write([new ClipboardItem({"text/plain":new Blob([t],{type:"text/plain"})})]).then((()=>{note("Attempting to copy via navigator.clipboard.write"),this.appDataMessage="Message copied to the clipboard.",this.appStateShowNotification=!0})).catch((e=>{error("Failed to copy text via navigator.clipboard.write: ",e),this.CopyToClipboardViaExecCommand(t)})):await navigator.clipboard.writeText(t).then((()=>{note("Attempting to copy via navigator.clipboard.writeText"),this.appDataMessage="Message copied to the clipboard.",this.appStateShowNotification=!0})).catch((e=>{error("Failed to copy text via navigator.clipboard.writeText: ",e),this.CopyToClipboardViaExecCommand(t)})):this.CopyToClipboardViaExecCommand(t)},async CopyToClipboardViaExecCommand(t){note("Attempting to copy via execCommand");let e=copyToClipboard(t);log(e),this.appDataMessage=""},async ShareText(t,e){note("ShareText() called with this text:"),this.appDataMessage="",note(t),note(e);let a={text:t+(""===e?"":" <"+e+">")};navigator.canShare&&!navigator.canShare(a)&&(a={text:t,url:""===e?window.location.origin:e}),navigator.share&&navigator.canShare(a)?await navigator.share(a).then((t=>{})).catch((a=>{this.CopyTextToClipboard(t+(""===e?"":" <"+e+">"))})):this.CopyTextToClipboard(t+(""===e?"":" <"+e+">"))},async ShareBoard(t=!1,e=!1){if(note("ShareBoard() called"),this.isChromeAndiOSoriPadOS&&-1!==this.appDataShareURL.indexOf("facets.bigtentgames.com/game/?"))this.CopyTextToClipboard(this.GetShareTextBasedOnContext(t)+" <"+this.appDataShareURL+">"),note("Shortened URL exists, copying to clipboard");else{let s="reviewer"===this.appDataPlayerCurrent.role&&4===this.getNumberOfCardsThatHaveBeenPlacedOnTray,r=this.GetShareTextBasedOnContext(t);this.ConstructAndSetShareURLForCurrentGame(s,e),this.appStateIsGettingTinyURL=!0;var a="https://worker-winter-glade-cd02.bigtentgames.workers.dev/"+location.search.substring(1);note("Fetching short url"),await fetch(a,{method:"POST",headers:{Host:window.location.hostname,Origin:window.location.origin,"Access-Control-Request-Method":"GET","Access-Control-Request-Headers":"Content-Type"}}).then((t=>{if(!t.ok)throw new Error("Server error: "+t.status);return t.text()})).then((t=>this.appDataShareURL=location.origin+"/game/?"+t)).catch((t=>{})),this.appStateIsGettingTinyURL=!1,this.ShareText(r,this.appDataShareURL)}},ReportPuzzle(t){location.href="mailto:bigtentgames@icloud.com?subject=Facets Puzzle Reported&body=Puzzle ID# "+t.key+"%0D%0A This puzzle contains offensive language.%0D%0A"+t.hints},ConstructAndSetShareURLForCurrentGame(t,e=!1){if(note("ConstructAndSetShareURLForCurrentGame() called"),this.appStateIsGuessing){this.currentGameSolutionGuessing="";let a="",s="";this.appDataCards.concat(this.appDataCardsParked).forEach((t=>{0===t.words.length&&(s+="::::"),t.words.forEach((t=>{s+=t.id+":"}))})),this.appDataHints.forEach(((t,e)=>{t.value=t.value.trim();let a=encodeURIComponent(t.value);s+=a+(e===this.appDataHints.length-1?"":":")})),a=encodeURIComponent(a),a+="?sendingName="+encodeURIComponent(this.appDataPlayerCurrent.name),a+="&puzzleName="+encodeURIComponent(this.appDataPlayerCreator.name),a+="&puzzleID="+encodeURIComponent(this.appDataPlayerCreator.id),a+="&lang="+(!1===e?encodeURIComponent(this.currentGameLanguage):encodeURIComponent(this.userSettingsLanguage)),a+="&wordSetID="+encodeURIComponent(this.currentGameGuessingWordSet.id),e&&(a+="&isNew=true"),a+="&sendingID="+encodeURIComponent(this.appDataPlayerCurrent.id),a+="&useExtraCard="+encodeURIComponent(5===this.currentGameGuessingCardCount),a+="&sol="+encodeURIComponent(this.currentGameSolutionActual),t&&(a+="&final=true"),a=window.location.origin+window.location.pathname+a+"&board="+s,this.appDataShareURL=a,history.pushState(null,null,this.appDataShareURL)}},GetMessageBasedOnTrayCount(t,e){note("GetMessageBasedOnTrayCount() called");let a=this.getNumberOfCardsThatHaveBeenPlacedOnTray,s="";"reviewer"===this.appDataPlayerCurrent.role&&this.getNumberOfCardsThatHaveBeenPlacedOnTray<4&&(s=a+"/4 "),4!==a||"reviewer"!==this.appDataPlayerCurrent.role||t||(a=5);let r=LevelMessage[a][getRandomInt(0,LevelMessage[a].length)],i=""!==e,o=i?e+", ":"",n=i&&0!==r.indexOf("I ");r=n?r.charAt(0).toLowerCase()+r.slice(1):r;let p=s+LevelEmoji[a][getRandomInt(0,LevelEmoji[a].length)]+" "+o+r;return announce(p),p},GetShareTextBasedOnContext(t){note("GetShareTextBasedOnContext() called");let e="",a=this.currentGameGuessingWordSet.startsWithVowel?"an ":"a ";return a=5===this.currentGameGuessingCardCount?"a ":a,e=this.appDataPlayerCurrent.id===this.appDataPlayerSender.id&&this.appDataPlayerCurrent.id===this.appDataPlayerCreator.id?"🧠"+this.currentGameGuessingWordSet.emoji+(5===this.currentGameGuessingCardCount?"⭐️":"")+" I created "+a+(5===this.currentGameGuessingCardCount?"5-card ":"")+'"'+this.currentGameGuessingWordSet.name+'" word puzzle for you to solve!':"reviewer"===this.appDataPlayerCurrent.role?this.GetMessageBasedOnTrayCount(t,this.currentGameGuessersName):"🤔 "+this.appDataPlayerCreator.name+", here's my guess!",e},SwapCards(t,e){note("SwapCards() called");let a=new CardObject(t),s=new CardObject(e);t.words=s.words,t.rotation=s.rotation,t.isSelected=!1,t.justDropped=!0,e.words=a.words,e.rotation=a.rotation,e.isSelected=!1,e.justDropped=!0,setTimeout((()=>{this.appDataCards.concat(this.appDataCardsParked).forEach((t=>{t.justDropped=!1}))}),this.appDataTransitionLong),this.appStateIsDragging=!1,this.appDataDraggedCard=this.appDataEmptyCard,this.ConstructAndSetShareURLForCurrentGame()},HandleCardClick(t,e){note("HandleCardClick() called"),t.preventDefault(),t.stopPropagation(),this.ToggleCardSelection(e)},ToggleCardSelection(t){if(note("ToggleCardSelection() called"),this.getSelectedCard&&this.getSelectedCard!==t)return void this.SwapCards(this.getSelectedCard,t);let e=!t.isSelected;this.appDataCards.forEach((t=>{t.isSelected=!1,t.isInTray=!0,t.justDropped=!1})),this.appDataCardsParked.forEach((t=>{t.isSelected=!1,t.isInTray=!1,t.justDropped=!1})),t.isSelected=0!==t.words.length&&e,document.body.offsetHeight<=660&&!this.appStateIsModalShowing&&(this.appStateIsModalShowing=!0),t.isSelected&&(this.appDataDraggedCard=t,warn("appDataDraggedCard card has been assigned on card click"))},RotateCard(t,e,a){note("RotateCard() called"),t.preventDefault(),t.stopPropagation(),this.appDataTransitionShort=parseInt(getComputedStyle(document.body).getPropertyValue("--mediumTransition").replace("ms","")),this.appStateIsGuessing&&(!this.userSettingsFocus||this.userSettingsFocus&&"parking"!==t.target.parentElement.parentElement.id)&&(this.appDataMessage="",this.appDataTimeoutCardRotation&&(clearTimeout(this.appDataTimeoutCardRotation),this.appDataTimeoutCardRotation=null),e.isSelected=!1,e.rotation=e.rotation+a,e.isRotating=!0,this.appDataTimeoutCardRotation=setTimeout((()=>{this.ResetCardsAfterRotation()}),this.appDataTransitionShort))},ResetCardsAfterRotation(t=!0){note("ResetCardsAfterRotation() called"),this.appDataCards.concat(this.appDataCardsParked).forEach((t=>{if(0!==t.rotation){t.isRotating=!1;let e=t.words.length;if(e>0){let a=(t.rotation%e+e)%e;t.words=t.words.slice(-a).concat(t.words.slice(0,-a))}t.rotation=0}})),this.appStateIsGuessing&&t&&this.ConstructAndSetShareURLForCurrentGame()},RotateTrayBasedOnInputFocus(t){if(note("RotateTrayBasedOnInputFocus() called"),0!=t)switch(t){case 0:this.RotateTray(0);break;case 1:this.RotateTray(-1);break;case 2:this.RotateTray(1);break;case 3:this.RotateTray(-2);break}},RotateTray(t){note("RotateTray() called"),this.appStateTrayIsRotating||(this.appDataMessage="",this.appStateTrayIsRotating=!0,this.appDataTimeoutTrayRotation&&(clearTimeout(this.appDataTimeoutTrayRotation),this.appDataTimeoutTrayRotation=null),this.getSelectedCard&&(this.getSelectedCard.isSelected=!1),this.appStateTrayRotation=this.appStateTrayRotation+t,document.getElementById("parkingInput").focus(),this.appDataTimeoutTrayRotation=setTimeout((()=>{this.ResetTrayAfterRotation()}),this.appDataTransitionLong),this.appStateIsGuessing||setTimeout((()=>{let t=document.getElementById("hint0");this.appDataParkingInputValue="",t.focus()}),this.appDataTransitionLong))},ResetTrayAfterRotation(){if(note("ResetTrayAfterRotation() called"),this.appStateTrayIsRotating=!1,this.appDataParkingInputValue="",this.appStateTrayRotation<3){if(0!==this.appStateTrayRotation){let t=this.appDataHints.length;if(t>0){let e=(this.appStateTrayRotation%t+t)%t;this.appDataHints=this.appDataHints.slice(-e).concat(this.appDataHints.slice(0,-e))}}let t=this.appDataHints[0],e=this.appDataHints[1],a=this.appDataHints[2],s=this.appDataHints[3],r=this.appDataCards[0],i=this.appDataCards[1],o=this.appDataCards[2],n=this.appDataCards[3];switch(r.rotation=i.rotation=o.rotation=n.rotation=this.appStateTrayRotation,this.ResetCardsAfterRotation(!1),this.appStateTrayRotation){case-1:this.appDataHints[0]=t,this.appDataHints[1]=a,this.appDataHints[2]=s,this.appDataHints[3]=e,this.appDataCards[0]=i,this.appDataCards[2]=r,this.appDataCards[1]=n,this.appDataCards[3]=o;break;case 1:this.appDataHints[0]=s,this.appDataHints[1]=e,this.appDataHints[2]=t,this.appDataHints[3]=a,this.appDataCards[0]=o,this.appDataCards[1]=r,this.appDataCards[2]=n,this.appDataCards[3]=i;break;case 2:case-2:this.appDataHints[0]=e,this.appDataHints[1]=t,this.appDataHints[2]=s,this.appDataHints[3]=a,this.appDataCards[0]=n,this.appDataCards[1]=o,this.appDataCards[2]=i,this.appDataCards[3]=r;break;default:break}this.ConstructAndSetShareURLForCurrentGame()}this.appStateTrayRotation=0},async NewGame(t,e="",a=!0){note("NewGame() called"),document.title="Facets!",this.appDataMessage=e,this.currentGameGuessCount=0,this.currentGameLanguage="",this.currentGameReviewIsFinal=!1,this.currentGameGuessersName="",this.appDataPlayerCurrent.role="creator",this.appDataPlayerCreator.id=this.appDataPlayerCurrent.id,this.appDataPlayerCreator.name=this.appDataPlayerCurrent.name,this.appDataPlayerSender.id=this.appDataPlayerCurrent.id,this.appDataPlayerSender.name=this.appDataPlayerCurrent.name,this.currentGameGuessingWordSet=this.currentGameWordSet,this.currentGameGuessingCardCount=this.userSettingsUseExtraCard?5:4,this.currentGameSolutionGuessing="",this.appStateTrayIsRotating=!1,this.appStateForceAutoCheck=!1,this.SetWordSetTheme(this.currentGameWordSet),this.appDataShareURL="",history.pushState(null,null,window.location.origin+window.location.pathname),this.appStateIsGuessing=!1,this.appDataCards=[],this.appDataCardsParked=[new CardObject({}),new CardObject({}),new CardObject({}),new CardObject({}),new CardObject({}),new CardObject({})],this.appDataHints=[new WordObject({}),new WordObject({}),new WordObject({}),new WordObject({})],await this.CreateCardsForPlayer(null),a&&this.RotateTray(-4)},LoadPage(){note("LoadPage() called"),this.HandlePageVisibilityChange(),announce("Player "+this.appDataPlayerCurrent.id+" has initiated the game - appDataVersion v"+this.appDataVersion),this.GetLast10GlobalCreatedGames(),this.appDataTransitionLong=parseInt(getComputedStyle(document.body).getPropertyValue("--longTransition").replace("ms","")),this.appDataTransitionShort=parseInt(getComputedStyle(document.body).getPropertyValue("--shortTransition").replace("ms","")),this.appStatePageHasLoaded=!0;let t=[];try{if(window.location.search){var e=new URLSearchParams(window.location.search);UseDebug=!!e.has("useDebug")||UseDebug;let a=decodeURIComponent(window.location.search);params=a.split("?")[1].split("&"),t=e.has("board")?e.get("board").split(":"):[]}t.length>=40?(document.title="Facets!",this.RestoreGame(t)):this.appStateIsGuessing||this.NewGame(null,"",!1)}catch(e){warn(e.message),t=[],this.NewGame(null,"😕 - Something went wrong.",!1)}this.appStateUsePortraitLayout=document.body.offsetHeight>document.body.offsetWidth}},mounted(){this.HandleServiceWorkerUnregistration(),this.LoadPage(),window.addEventListener("keydown",this.HandleKeyDownEvent),window.addEventListener("pointermove",this.HandlePointerMoveEvent),window.addEventListener("visibilitychange",this.HandlePageVisibilityChange),window.addEventListener("resize",this.HandleResize),window.addEventListener("popstate",this.HandlePopState)},watch:{userSettingsLanguage:function(t,e){highlight("userSettingsLanguage watch triggered"),this.LoadTranslatedWords()}},computed:{getSelectedCard:function(){return this.appDataCards.concat(this.appDataCardsParked).find((t=>!0===t.isSelected))},getAllPlayerCards:function(t){return this.appDataCards.concat(this.appDataCardsParked).find((e=>e.id.indexOf(0===t)))},getAllCards:function(){let t=this.appDataCards.concat(this.appDataCardsParked).filter((t=>t.words.length>0));return t.forEach((t=>{t.id=this.GetUniqueCardId(t.words)})),t=t.sort(((t,e)=>t.id-e.id)),t},getFirstThreeParkedCards:function(){return this.appDataCardsParked.splice(0,3)},getNumberOfCardsThatHaveBeenPlacedOnTray:function(){return void 0===this.appDataCards?0:this.appDataCards.filter((t=>t.words.length>0)).length},getNumberOfHintsThatHaveBeenFilled:function(){return void 0===this.appDataHints?0:this.appDataHints.filter((t=>""!=t.value)).length},getUniqueCardId:function(t){return this.GetUniqueCardId(t)},getFirstAvailableParkingSpot:function(){return this.appDataCardsParked.find((t=>0===t.words.length))},getPlayerMessage:function(){clearTimeout(this.appDataTimeoutNotification);let t=3e3,e=this.currentGameGuessingWordSet.startsWithVowel?'an "':'a "',a=this.appStateForceAutoCheck?e:this.appDataPlayerCreator.name+"'s \"",s="";return""!==this.appDataMessage?s=this.appDataMessage:this.appStateIsGuessing||-1===this.appDataPlayerCurrent.id?s=this.appDataPlayerCurrent.id===this.appDataPlayerSender.id&&-1!==this.appDataPlayerCurrent.id&&this.appDataPlayerCurrent.id===this.appDataPlayerCreator.id?this.appDataPlayerCurrent.name+", this is your own puzzle!":this.currentGameReviewIsFinal&&-1!==this.appDataPlayerCurrent.id?this.appDataPlayerCurrent.name+", here's the solution.":this.appDataPlayerCurrent.id!==this.appDataPlayerSender.id&&this.appDataPlayerCurrent.id===this.appDataPlayerCreator.id&&-1!==this.appDataPlayerCurrent.id?"You are reviewing "+this.appDataPlayerSender.name+"'s guess!":"You are guessing "+a+this.currentGameGuessingWordSet.name+'" puzzle!':(s='You are creating a new "'+this.currentGameGuessingWordSet.name+'" puzzle!',t=1700),this.appDataTimeoutNotification=setTimeout((()=>{this.appStateShowNotification=!1}),t),s},getEnabledWordSets:function(){return this.appDataWordSets.filter((t=>t.enabled))},getEnabledTempWordSets:function(){return this.tempWordSets.filter((t=>t.enabled))},getEnabledTempWordSetNames:function(){let t=[];return this.appDataWordSets.forEach((e=>{e.enabled&&t.push(e.name)})),t.sort(((t,e)=>t.localeCompare(e,void 0,{sensitivity:"base"})))},getEnabledTempWordSet:function(){let t=[];return this.appDataWordSets.forEach((e=>{e.enabled&&t.push(e)})),t.sort(((t,e)=>t.name.localeCompare(e.name,void 0,{sensitivity:"base"})))},getEnabledTempLanguages:function(){let t=[];return this.appDataLanguages.forEach((e=>{e.enabled&&t.push({name:e.name,tag:e.tag})})),t.sort(((t,e)=>t.name.localeCompare(e.name,void 0,{sensitivity:"base"})))},getCurrentSelectedTempWordSetName:function(){return this.appDataWordSets.find((t=>t.isSelected)).name},getSubmitButtonText:function(){let t="Send Guess";return"reviewer"===this.appDataPlayerCurrent.role?t="Send Back":"creator"===this.appDataPlayerCurrent.role&&(t="Send Puzzle"),this.appDataPlayerCurrent.id!==this.appDataPlayerCreator.id&&(this.appStateForceAutoCheck&&(t="Check Guess"),this.isChromeAndiOSoriPadOS&&this.appDataShareURL.includes("facets.bigtentgames.com/game/?")&&(t="Copy")),t},getCreatedGamesWithWordSetNames:function(){return this.appDataGlobalCreatedGames.map((t=>{const e=this.appDataWordSets.find((e=>e.id===t.wordSetID));return e?{...t,name:e.name}:t}))},isChromeAndiOSoriPadOS:function(){note("isChromeAndiOSoriPadOS() called");var t=navigator.userAgent||window.opera;announce(t);var e=/CriOS/.test(t)&&/iPhone|iPad|iPod/.test(t);return warn(e),t=t.toLowerCase(),e||t.includes("firefox")&&t.includes("android")}}});