function getInternalDelayUntilNext8AM(){const e=new Date,t=new Date(e.getFullYear(),e.getMonth(),e.getDate(),8,0,0,0);e.getTime()>=t.getTime()&&t.setDate(t.getDate()+1);return t.getTime()-e.getTime()}function showDailyReminder(){const e=void 0===self.userWantsDailyReminder||self.userWantsDailyReminder;self.clients.matchAll().then((t=>{if(t.length>0&&e){const e={body:"Today's Daily Facets puzzle is ready!",icon:"/images/icon192.png",badge:"/images/icon96.png",silent:!1};self.registration.showNotification("Daily Reminder",e).then((()=>{})).catch((e=>{}));const t=getInternalDelayUntilNext8AM()+1e4;setTimeout((()=>{self.registration.periodicSync.register({tag:"daily-reminder",minInterval:864e5}).then((()=>{})).catch((e=>{}))}),t)}}))}self.addEventListener("install",(e=>{self.skipWaiting()})),self.addEventListener("activate",(e=>{e.waitUntil(clients.claim().then((()=>self.clients.matchAll().then((e=>{e.forEach((e=>{e.postMessage({type:"NEW_VERSION_AVAILABLE"})}))})))))})),self.addEventListener("sync",(e=>{"daily-reminder"===e.tag&&e.waitUntil(showDailyReminder())})),self.addEventListener("periodicsync",(e=>{"daily-reminder"===e.tag&&e.waitUntil(showDailyReminder())})),self.addEventListener("message",(e=>{"USER_WANTS_REMINDER"===e.data.type&&(self.userWantsDailyReminder=e.data.tempUserWantsDailyReminder)}));