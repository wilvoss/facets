function getDelayUntilNext8AM(){const e=new Date,t=new Date(e.getFullYear(),e.getMonth(),e.getDate(),8,0,0,0);return e.getTime()>=t.getTime()&&t.setDate(t.getDate()+1),t.getTime()-e.getTime()}function showDailyReminder(){self.clients.matchAll().then((e=>{if(e.length>0){e[0];const t={body:"Today's Daily Facets puzzle is ready!",icon:"/images/icon192.png",badge:"/images/icon96.png",silent:!1};self.registration.showNotification("Daily Reminder",t).then((()=>{})).catch((e=>{}));const i=getDelayUntilNext8AM();setTimeout((()=>{registration.sync.register("daily-reminder").then((()=>{})).catch((e=>{}))}),i+864e5)}}))}self.addEventListener("install",(e=>{self.skipWaiting()})),self.addEventListener("activate",(e=>{e.waitUntil(clients.claim().then((()=>self.clients.matchAll().then((e=>{e.forEach((e=>{e.postMessage({type:"NEW_VERSION_AVAILABLE"})}))})))))})),self.addEventListener("sync",(e=>{"daily-reminder"===e.tag&&e.waitUntil(showDailyReminder())})),navigator.serviceWorker.ready.then((e=>{const t=getDelayUntilNext8AM();setTimeout((()=>{e.sync.register("daily-reminder").then((()=>{})).catch((e=>{}))}),t)}));